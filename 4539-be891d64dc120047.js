"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4539],{15186:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(59499),o=t(67294),i=t(87379).ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-jxjd5-0"})(["outline:none;color:",";caret-color:",";white-space:pre-wrap;word-break:break-word;&:focus:empty:before{content:attr(placeholder);display:block;-webkit-text-fill-color:",";overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}"],(function(e){return e.theme.color.text}),(function(e){return e.theme.color.text}),(function(e){return e.theme.color.inputPlaceholder})),u=t(85893);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var l=(0,o.forwardRef)((function(e,n){return(0,u.jsx)(i,c(c({},e),{},{ref:n,tabIndex:0}))}))},61048:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(67294),o=t(85907),i=t(17621),u=t.n(i),a=t(87379),c=t(60291),l=t(15025),d=a.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-x2m7kj-0"})(["width:220px;padding:",";"],(function(e){return e.theme.spacing.sm})),s=a.ZP.div.withConfig({displayName:"styled__PickerContainer",componentId:"sc-x2m7kj-1"})([".react-colorful{height:auto;}.react-colorful__saturation,.react-colorful__hue{border-radius:8px;}.react-colorful__saturation{height:120px;flex-grow:0;border-bottom:0;margin-bottom:",";}.react-colorful__hue{height:8px;}.react-colorful__pointer{width:14px;height:14px;border:3px solid #fff;}"],(function(e){return e.theme.spacing.sm})),p=a.ZP.div.withConfig({displayName:"styled__PalettesContainer",componentId:"sc-x2m7kj-2"})(["display:grid;gap:",";grid-template-columns:auto auto auto auto auto auto auto auto;border-top:1px solid ",";margin-top:",";padding-top:",";"],(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.color.border}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.spacing.sm})),f=a.ZP.div.withConfig({displayName:"styled__Item",componentId:"sc-x2m7kj-3"})(["width:20px;height:20px;border-radius:5px;border:2px solid ",";cursor:pointer;background-color:",";&:hover{opacity:0.75;}"],(function(e){return e.theme.color.border}),(function(e){return e.color})),h=a.ZP.div.withConfig({displayName:"styled__InputContainer",componentId:"sc-x2m7kj-4"})(["display:flex;align-items:center;border-top:1px solid ",";margin-top:",";padding-top:",";"],(function(e){return e.theme.color.border}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.spacing.sm})),v=t(85893),y=function(e){var n=e.position,t=e.color,i=e.inputControl,y=void 0!==i&&i,m=e.clearControl,g=void 0!==m&&m,b=e.onChange,k=e.onReset,x=e.onClose,O=(0,a.Fg)(),U=t?u()(t).toHexString():void 0,w=(0,r.useState)(U),C=w[0],j=w[1];return(0,v.jsx)(c.Z,{position:n,onClose:x,children:(0,v.jsxs)(d,{children:[(0,v.jsx)(s,{children:(0,v.jsx)(o.gW,{color:C,onChange:function(e){j(e),b(e)}})}),(0,v.jsx)(p,{children:[O.color.white,O.color.redLight2,O.color.orangeLight2,O.color.yellowLight2,O.color.greenLight2,O.color.blueLight2,O.color.purpleLight2,O.color.pinkLight2,O.color.grayBackground,O.color.redLight1,O.color.orangeLight1,O.color.yellowLight1,O.color.greenLight1,O.color.blueLight1,O.color.purpleLight1,O.color.pinkLight1,O.color.gray,O.color.red,O.color.orange,O.color.yellow,O.color.green,O.color.blue,O.color.purple,O.color.pink,O.color.darkerGray,O.color.redDark1,O.color.orangeDark1,O.color.yellowDark1,O.color.greenDark1,O.color.blueDark1,O.color.purpleDark1,O.color.pinkDark1,O.color.black,O.color.redDark2,O.color.orangeDark2,O.color.yellowDark2,O.color.greenDark2,O.color.blueDark2,O.color.purpleDark2,O.color.pinkDark2].map((function(e){return(0,v.jsx)(f,{color:e,onMouseDown:function(e){return e.preventDefault()},onClick:function(){j(e),b(e),y||x()}},e)}))}),y&&(0,v.jsx)(h,{children:(0,v.jsx)(l.Sl,{defaultValue:C,colorPickerControl:!1,clearControl:g,inputProps:{placeholder:"#HEX"},onChange:function(e){j(e),e&&b(e)},onReset:function(){j(""),k&&k(),x()}})})]})})}},67178:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(59499),o=t(31567),i=t(30833),u=t(700),a=t(11041),c=t(15025),l=t(60291),d=t(87379),s=t(47927),p=(0,d.ZP)(s.Vm).withConfig({displayName:"styled__ListContainer",componentId:"sc-1oxxxdb-0"})(["width:300px;"]),f=t(85893);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=function(e){var n,t=e.mention,r=e.position,d=e.onUpdate,h=e.onRemove,y=e.onClose,m=(0,o.$)().t,g=(0,u.Z)({onEnter:function(){return y()}});return(0,f.jsx)(a.Z,{children:(0,f.jsx)(l.Z,{position:r,onClose:y,children:(0,f.jsxs)(p,{children:[(0,f.jsxs)(s.Qu,{children:[(0,f.jsx)(s.eX,{children:m("form-builder.mention-setting-menu.default-value")}),(0,f.jsx)(s.nQ,{children:(0,f.jsx)(c.GK,v({type:"text",defaultValue:null!==(n=t.defaultValue)&&void 0!==n?n:"",onChange:function(e){return d({defaultValue:e.currentTarget.value})}},g))})]}),(0,f.jsx)(s.Qu,{children:(0,f.jsxs)("a",{onClick:function(){h(),y()},children:[(0,f.jsx)(i.Z,{size:17}),m("label.remove")]})})]})})})}},23625:function(e,n,t){t.d(n,{Z:function(){return O}});var r=t(27812),o=t(67294),i=t(31567),u=t(83206),a=t(36103),c=t(8773),l=t(96486),d=t(93213),s=t(77920),p=t(3347),f=t(29458),h=t(43708),v=t(81897),y=t(11041),m=t(60291),g=t(87379),b=t(47927),k=(0,g.ZP)(b.Vm).withConfig({displayName:"styled__ListContainer",componentId:"sc-149exdf-0"})(["width:320px;"]),x=t(85893),O=function(e){var n,t,g=e.blocks,O=e.options,U=e.onInsert,w=e.onClose,C=(0,i.$)().t,j=(0,o.useState)(null),S=j[0],E=j[1],B=(0,o.useMemo)((function(){return(0,p.jd)()}),[]),P=(0,o.useMemo)((function(){return(0,h.NZ)()}),[]),D=P[0],T=P[1],I=(0,h.sg)(),Z=null!==(n=null===D||void 0===D||null===(t=D.textContent)||void 0===t?void 0:t.substr(T,I-T))&&void 0!==n?n:"",A=(0,f.VN)(g,null===O||void 0===O?void 0:O.fields).filter((function(e){return n=(0,f.m8)(e,C),Z.toLowerCase().split(" ").every((function(e){return-1!==n.toLowerCase().indexOf(e.trim())}));var n})),N=[{type:v.f.Metadata,fields:A.filter((function(e){return e.type===v.f.Metadata}))},{type:v.f.InputField,fields:A.filter((function(e){return e.type===v.f.InputField}))},{type:v.f.CalculatedField,fields:A.filter((function(e){return e.type===v.f.CalculatedField}))},{type:v.f.HiddenField,fields:A.filter((function(e){return e.type===v.f.HiddenField}))}],M=N.reduce((function(e,n){return[].concat((0,r.Z)(e),(0,r.Z)(n.fields))}),[]),L=function(e){var n=document.createRange();n.setStart(D,T-1),n.setEnd(D,I),n.deleteContents();var t=function(e){var n=A.find((function(n){return n.uuid===e})),t=(0,c.Z)(),r=window.getSelection();if(r&&r.rangeCount){var o=r.getRangeAt(0);o.collapse(!0);var i=document.createElement("span");if(i.className="mention",i.contentEditable="false",i.dataset.uuid=t,i.textContent="@".concat((0,l.truncate)((0,f.m8)(n,C))),o.insertNode(i),o.setStartAfter(i),null!==O&&void 0!==O&&O.mentionFollowingCharacter){var u=document.createTextNode(O.mentionFollowingCharacter);o.insertNode(u),o.setStartAfter(u)}o.collapse(!0),r.removeAllRanges(),r.addRange(o)}return setTimeout((function(){document.querySelectorAll(".mention").forEach((function(e){return e.setAttribute("contenteditable","false")}))}),1),{uuid:t,field:n}}(e);U(t),w()},R=function(e){if("ArrowUp"===e.key){if(e.preventDefault(),0===M.length)return;var n=M.findIndex((function(e){return e.uuid===S})),t=S;return t=-1===n||n-1<0?M[M.length-1].uuid:M[n-1].uuid,void E(t)}if("ArrowDown"===e.key){if(e.preventDefault(),0===M.length)return;var r=M.findIndex((function(e){return e.uuid===S})),o=S;return o=-1===r||r+1>=M.length?M[0].uuid:M[r+1].uuid,void E(o)}if("Enter"===e.key&&S)return e.preventDefault(),void L(S)},_=function(){((0,h.sg)()<T||(0,h.fI)()!==D)&&w()},F=function(e){e.preventDefault()},H=function(e){var n=e.uuid,t=e.type,r=e.questionType,o=(0,f.m8)(e,C),i=(0,s.iD)(r);return t===v.f.Metadata&&(i=(0,s.l7)(n)),(0,x.jsxs)("a",{className:S===n?"selected":"",onMouseDown:F,onClick:function(){return L(n)},children:[(0,x.jsx)(i,{size:17}),(0,x.jsx)("span",{children:o})]},n)};return(0,o.useEffect)((function(){if(Z.length>0){null===S&&M.length>0&&E(M[0].uuid);var e=M.findIndex((function(e){return e.uuid===S}));null!==S&&-1===e&&M.length>0&&E(M[0].uuid),0===M.length&&E(null)}return document.addEventListener("keydown",R),document.addEventListener("keyup",_),function(){document.removeEventListener("keydown",R),document.removeEventListener("keyup",_)}}),[I,Z,S]),(0,x.jsx)(y.Z,{children:(0,x.jsx)(m.Z,{id:"MentionContextMenu",position:B,onClose:w,children:(0,x.jsxs)(k,{children:[N.map((function(e){var n=e.type,t=e.fields;return 0===t.length?null:(0,x.jsxs)(b.Qu,{children:[(0,x.jsx)(b.eX,{children:C("form-builder.mention-menu.section.".concat(n))}),t.map(H)]},n)})),0===A.length&&(0,x.jsx)(b.Qu,{children:(0,x.jsxs)(b.c6,{children:[(0,x.jsx)(u.Z,{size:17}),C(Z.length>0?"form-builder.mention-menu.no-results":"form-builder.mention-menu.no-mentions")]})}),(null===O||void 0===O?void 0:O.showHelp)&&(0,x.jsx)(b.Qu,{children:(0,x.jsxs)("a",{href:d.Z.get("help-links.answer-piping"),target:"_blank",rel:"noreferrer",className:"secondary",children:[(0,x.jsx)(a.Z,{size:17}),(0,x.jsx)("span",{children:C("form-builder.mention-menu.learn")})]})})]})})})}},64846:function(e,n,t){t.d(n,{Z:function(){return D}});var r=t(67294),o=t(31567),i=t(46433),u=t(87335),a=t(54712),c=t(32429),l=t(3347),d=t(43708),s=t(11041),p=t(75182),f=t(1958),h=t(60291),v=t(61048),y=t(85893),m=function(e){var n=e.color,t=e.position,r=e.onColor,o=e.onReset,i=e.onClose;return(0,y.jsx)(v.Z,{color:n,position:t,inputControl:!0,clearControl:!0,onChange:r,onReset:o,onClose:i})},g=function(e){var n=e.color,t=e.position,r=e.onColor,o=e.onReset,i=e.onClose;return(0,y.jsx)(v.Z,{color:n,position:t,inputControl:!0,clearControl:!0,onChange:r,onReset:o,onClose:i})},b=t(50029),k=t(87794),x=t.n(k),O=t(15025),U=t(76992),w=t(87379),C=w.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-1wnle07-0"})(["padding:",";text-align:center;input{margin-bottom:",";}"],(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.spacing.xs})),j=function(e){var n=e.link,t=e.position,i=e.onLink,u=e.onClose,a=(0,o.$)().t,c=(0,r.useState)(null!==n&&void 0!==n?n:""),l=c[0],d=c[1],s=function(){var e=(0,b.Z)(x().mark((function e(n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),n.stopPropagation(),0!==l.trim().length){e.next=4;break}return e.abrupt("return");case 4:i(l.trim()),u();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsx)(h.Z,{position:t,onClose:u,children:(0,y.jsx)(C,{children:(0,y.jsxs)("form",{onSubmit:s,children:[(0,y.jsx)(O.GK,{type:"url",placeholder:a("form-builder.placeholder.add-link"),defaultValue:l,onChange:function(e){return d(e.currentTarget.value)}}),(0,y.jsx)(U.Z,{type:"submit",value:a("label.apply"),variant:"form-secondary"})]})})})},S=w.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-1f32d6i-0"})(["display:flex;height:38px;align-items:center;padding:0 ",";"],(function(e){return e.theme.spacing.xs})),E=w.ZP.div.withConfig({displayName:"styled__Button",componentId:"sc-1f32d6i-1"})(["display:grid;place-items:center center;height:32px;min-width:32px;cursor:pointer;color:",";border-radius:5px;transition:background 200ms ease-in 0s;transition:color 100ms ease-in 0s;&:hover{color:",";background:",";}"," "," ",""],(function(e){return e.theme.color.textGrayscale3}),(function(e){return e.theme.color.textGrayscale2}),(function(e){return e.theme.color.actionBackgroundHover}),(function(e){var n=e.theme;return e.active&&"\n    color: ".concat(n.color.linkText,";\n\n    &:hover {\n      color: ").concat(n.color.linkTextHover,";\n    }\n  ")}),(function(e){var n=e.foreColor;return n&&"\n    svg path:nth-child(2) {\n      stroke: ".concat(n,";\n    }\n  ")}),(function(e){var n=e.backColor;return n&&"\n    svg {\n      fill: ".concat(n,";\n    }\n  ")})),B=w.ZP.div.withConfig({displayName:"styled__Divider",componentId:"sc-1f32d6i-2"})(["width:1px;height:100%;background-color:",";margin:0 ",";"],(function(e){return e.theme.color.border}),(function(e){return e.theme.spacing.xs})),P=0,D=function(e){var n=e.onClose,t=(0,o.$)().t,v=(0,r.useMemo)((function(){return(0,l.jd)()}),[]),b=(0,r.useRef)(null),k=(0,r.useState)(!1),x=k[0],O=k[1],U=(0,r.useState)(!1),w=U[0],C=U[1],D=(0,r.useState)(!1),T=D[0],I=D[1],Z=(0,r.useState)(null),A=Z[0],N=Z[1],M=(0,d.iD)(),L=function(e){e.preventDefault()},R=function(){var e=window.getSelection();return e&&e.getRangeAt&&e.rangeCount&&N(e.getRangeAt(0)),e},_=function(){var e=(new Date).getTime();if(e-P<500)return null;P=e;var n=window.getSelection();return null===n||void 0===n||n.removeAllRanges(),A&&(null===n||void 0===n||n.addRange(A)),n};return(0,y.jsxs)(s.Z,{children:[(0,y.jsx)(h.Z,{position:v,disableClickOutside:x||w||T,onClose:n,children:(0,y.jsxs)(S,{id:"TextFormatContextMenu",children:[(0,y.jsxs)(E,{active:M.isBold,onMouseDown:L,onClick:function(){return(0,d.B4)("bold")},children:[(0,y.jsx)(i.Z,{size:16}),(0,y.jsx)(f.Z,{text:t("form-builder.formatting-actions-tooltip.bold")})]}),(0,y.jsxs)(E,{active:M.isItalic,onMouseDown:L,onClick:function(){return(0,d.B4)("italic")},children:[(0,y.jsx)(u.Z,{size:16}),(0,y.jsx)(f.Z,{text:t("form-builder.formatting-actions-tooltip.italic")})]}),(0,y.jsxs)(E,{active:M.isUnderline,onMouseDown:L,onClick:function(){return(0,d.B4)("underline")},children:[(0,y.jsx)(a.Z,{size:16}),(0,y.jsx)(f.Z,{text:t("form-builder.formatting-actions-tooltip.underline")})]}),(0,y.jsx)(B,{}),(0,y.jsxs)(E,{foreColor:M.foreColor,onMouseDown:L,onClick:function(e){b.current=e.currentTarget,R(),O(!0)},children:[(0,y.jsx)(p.d9,{size:16}),(0,y.jsx)(f.Z,{text:t("form-builder.formatting-actions-tooltip.text-color")})]}),(0,y.jsxs)(E,{backColor:M.backColor,onMouseDown:L,onClick:function(e){b.current=e.currentTarget,R(),C(!0)},children:[(0,y.jsx)(p.hE,{size:16}),(0,y.jsx)(f.Z,{text:t("form-builder.formatting-actions-tooltip.highlight-color")})]}),(0,y.jsx)(B,{}),(0,y.jsxs)(E,{active:!!M.link,onMouseDown:L,onClick:function(e){b.current=e.currentTarget,R(),I(!0)},children:[(0,y.jsx)(c.Z,{size:16}),(0,y.jsx)(f.Z,{text:M.link?t("form-builder.formatting-actions-tooltip.edit-link"):t("form-builder.formatting-actions-tooltip.link")})]}),!!M.link&&(0,y.jsxs)(E,{onMouseDown:L,onClick:function(){return(0,d.B4)("unlink")},children:[(0,y.jsx)(p.hX,{size:16}),(0,y.jsx)(f.Z,{text:t("form-builder.formatting-actions-tooltip.unlink")})]})]})}),x&&(0,y.jsx)(m,{color:M.foreColor,position:(0,l.yZ)(b.current),onColor:function(e){_(),(0,d.B4)("foreColor",e),R()},onReset:function(){_(),(0,d.B4)("removeFormat","foreColor"),R()},onClose:function(){_(),O(!1)}}),w&&(0,y.jsx)(g,{color:M.backColor,position:(0,l.yZ)(b.current),onColor:function(e){_(),(0,d.B4)("backColor",e),R()},onReset:function(){_(),(0,d.B4)("removeFormat","backColor"),R()},onClose:function(){_(),C(!1)}}),T&&(0,y.jsx)(j,{link:M.link,position:(0,l.yZ)(b.current),onLink:function(e){if(A){var n=_();(0,d.B4)("insertHTML",'<a href="'.concat(e,'" target="_blank">').concat(n,"</a>"))}},onClose:function(){_(),I(!1)}})]})}},25534:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(96486),o=t(27434),i=t(87379),u=i.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-1kac7xo-0"})(["padding-top:3px;"]),a=i.ZP.div.withConfig({displayName:"styled__DateContainer",componentId:"sc-1kac7xo-1"})(["position:relative;display:inline-flex;align-items:center;margin-right:",";font-size:14px !important;font-weight:bold !important;svg{margin-left:2px;color:",";}&:last-child{margin-right:0;}"],(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.color.gray})),c=i.ZP.select.withConfig({displayName:"styled__StyledSelect",componentId:"sc-1kac7xo-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;cursor:pointer;"]),l=t(85893),d=function(e){var n=e.date,t=e.localeMonths,i=e.onChange;return(0,l.jsxs)(u,{className:"DayPicker-Caption",children:[(0,l.jsxs)(a,{children:[t[n.getMonth()],(0,l.jsx)(o.Z,{size:12}),(0,l.jsx)(c,{value:n.getMonth(),onChange:function(e){return i(new Date(n.getFullYear(),parseInt(e.currentTarget.value,10)))},children:t.map((function(e,n){return(0,l.jsx)("option",{value:n,children:e},e)}))})]}),(0,l.jsxs)(a,{children:[n.getFullYear(),(0,l.jsx)(o.Z,{size:12}),(0,l.jsx)(c,{value:n.getFullYear(),onChange:function(e){return i(new Date(parseInt(e.currentTarget.value,10),n.getMonth()))},children:(0,r.range)(0,2200).map((function(e){return(0,l.jsx)("option",{value:e,children:e},e)}))})]})]})}},54140:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(31567),o=t(87379).ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-ps0o04-0"})(["color:",";font-weight:bold;padding:",";border:2px solid ",";border-radius:5px;background-color:rgba(217,57,0,0.08);margin-bottom:",";line-height:20px;"],(function(e){return e.theme.color.error}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.color.error}),(function(e){return e.theme.spacing.md})),i=t(85893),u=function(e){var n=e.errorType,t=e.errorText,u=e.exception,a=(0,r.$)().t,c="";if(u){var l=u.response;l&&l.data.errorType?n=l.data.errorType:!l&&u&&u.message?"Network Error"===u.message?n="NETWORK_ERROR":c=u.message:n="GENERAL"}return n&&(c=a("error.".concat(n)))==="error.".concat(n)&&(c=a("error.GENERAL")),t&&(c=t),(0,i.jsx)(o,{role:"alert",children:c})}},15025:function(e,n,t){t.d(n,{XZ:function(){return De},AP:function(){return Ce.Z},jj:function(){return v.Z},pg:function(){return U},l0:function(){return Ze},II:function(){return E.Z},dl:function(){return K},Sl:function(){return H},U7:function(){return B.Z},iv:function(){return ve},lJ:function(){return P.Z},GK:function(){return Ae},__:function(){return S},Ph:function(){return we},rs:function(){return je.Z},gx:function(){return ge},p8:function(){return x}});var r=t(50029),o=t(16835),i=t(87794),u=t.n(i),a=t(67294),c=t(19994),l=t(23026),d=t(59499),s=t(62301),p=t(40665),f=function(){var e=(0,a.useState)({}),n=e[0],t=e[1];return[n,(0,a.useCallback)((function(e,n){var r=(0,p.G)(e,n);return t(r),0===Object.keys(r).length}),[]),(0,a.useCallback)((function(e,n,r,o){switch(n){case"any.empty":n=s.d2.Required;break;case"string.min":n=s.d2.ShouldBeValidFormat;break;case"string.email":n=s.d2.ShouldBeEmail;break;case"string.uri":n=s.d2.ShouldBeURL}t((0,d.Z)({},e,[n,r,o]))}),[])]},h=t(76992),v=t(54140),y=t(31567),m=t(42298),g=(t(97660),t(87379)),b=g.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-1q6hwhq-0"})(["display:flex;justify-content:space-between;padding-top:5px;font-size:12px;line-height:15px;color:",";"],(function(e){return e.theme.color.error})),k=t(85893),x=function(e){var n=e.id,t=e.error,r=e.errorText,o=(0,y.$)().t;if(t){var i=t[1];if([s.d2.ShouldBeBeforeDate,s.d2.ShouldBeAfterDate].includes(t[0])?i=(0,m.Z)(new Date(t[1]),"MMMM d, yyyy"):t[0]===s.d2.ShouldBeBetweenDates&&(i=[(0,m.Z)(new Date(t[1][0]),"MMMM d, yyyy"),(0,m.Z)(new Date(t[1][1]),"MMMM d, yyyy")]),(r=o("form.error.".concat(t[0]),{constraint:i}))==="form.error.".concat(t[0])&&(r=o("error.GENERAL")),"AIRTABLE_INVALID_FIELDS_MAPPING"===t[0]&&(r=t[2]),"INVALID_TAX_ID"===t[0]){var u=function(e){switch(e){case"AE":case"SA":return"123456789012345";case"AU":return"12345678912";case"BR":return"01.234.456/5432-10";case"CA":case"NZ":return"123456789";case"CH":return"CHE-123.456.789 MWST";case"CL":return"12.345.678-K";case"AT":return"ATU12345678";case"BE":return"BE0123456789";case"BG":return"BG0123456789";case"CY":return"CY12345678Z";case"CZ":return"CZ1234567890";case"DE":return"DE123456789";case"DK":return"DK12345678";case"EE":return"EE123456789";case"ES":return"ESA1234567Z";case"FI":return"FI12345678";case"FR":return"FRAB123456789";case"GR":return"EL123456789";case"HR":return"HR12345678912";case"HU":return"HU12345678912";case"IE":return"IE1234567AB";case"IT":return"IT12345678912";case"LT":return"LT123456789123";case"LU":return"LU12345678";case"LV":return"LV12345678912";case"MT":return"MT12345678";case"NL":return"NL123456789B12";case"PL":return"PL1234567890";case"PT":return"PT123456789";case"RO":return"RO1234567891";case"SE":return"SE123456789123";case"SI":return"SI12345678";case"SK":return"SK1234567891";case"GB":return"GB123456789";case"HK":case"TW":return"12345678";case"ID":return"12.345.678.9-012.345";case"IN":return"12ABCDE3456FGZH";case"JP":case"TH":return"1234567891234";case"KR":return"123-45-67890";case"LI":return"CHE123456789";case"MX":return"ABC010203AB9";case"NO":return"123456789MVA";case"RU":return"1234567891";case"SG":return"M12345678X";case"US":return"12-3456789";case"ZA":return"4123456789"}return""}(i);u&&(r=o("form.error.INVALID_TAX_ID_FORMAT",{format:u}))}return(0,k.jsx)(b,{id:n,className:"tally-validation-error",children:(0,k.jsx)("span",{children:r})})}return r?(0,k.jsx)(b,{id:n,className:"tally-validation-error",children:(0,k.jsx)("span",{children:r})}):null},O=g.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-bg84qx-0"})(["margin-bottom:",";",""],(function(e){return e.theme.spacing.md}),(function(e){var n=e.theme;return e.compact&&"\n    margin-bottom: ".concat(n.spacing.sm,";\n  ")})),U=function(e){return(0,k.jsx)(O,{compact:e.compact,children:e.children})},w=g.ZP.label.withConfig({displayName:"styled__Container",componentId:"sc-nxjmq4-0"})(["display:block;margin-bottom:8px;font-size:14px;font-weight:bold;line-height:1.618;"]);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=function(e){return(0,k.jsx)(w,j(j({},e),{},{children:e.children}))},E=t(55e3),B=t(5765),P=t(80061),D=t(17621),T=t.n(D),I=function(e){var n=e.size,t=void 0===n?24:n,r=e.color,o=void 0===r?"currentColor":r;return(0,k.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,k.jsx)("path",{d:"M12.995 4L11.5 5.5M19.2277 20.3367L17.4451 21.9701C16.1294 22.8494 14.5825 23.3187 13 23.3187C11.4175 23.3187 9.8706 22.8494 8.5549 21.9701C7.23919 21.0908 6.21381 19.8411 5.60847 18.379C5.00312 16.9168 4.845 15.308 5.15411 13.7561C5.46321 12.2041 6.22566 10.7786 7.345 9.66L8 9",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M1.76733 1.97333L23.7673 23.9733",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M13 4L18.66 9.66C19.7793 10.7786 20.5418 12.2041 20.8509 13.7561",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Z=t(61048),A=t(1958),N=g.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-1v57m5e-0"})(["position:relative;width:100%;height:36px;box-shadow:",";border:0;border-radius:5px;background-color:",";&:hover{box-shadow:",";}&:focus-within{box-shadow:",";}"],(function(e){return e.theme.color.inputBoxShadow}),(function(e){return e.theme.color.inputBackground}),(function(e){return e.theme.color.inputBoxShadowHover}),(function(e){return e.theme.color.inputBoxShadowFocus})),M=g.ZP.div.withConfig({displayName:"styled__InputContainer",componentId:"sc-1v57m5e-1"})(["display:flex;align-items:center;height:100%;padding:0 ",";> input{width:100%;height:100%;border:0;padding:0;outline:none;background-color:transparent;color:",";caret-color:",";}"],(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.color.text}),(function(e){return e.theme.color.text})),L=g.ZP.div.withConfig({displayName:"styled__ColorPreview",componentId:"sc-1v57m5e-2"})(["position:relative;left:-4px;background-color:",";height:24px;width:24px;min-height:24px;min-width:24px;margin-right:2px;border-radius:5px;border:2px solid ",";",""],(function(e){return e.color}),(function(e){return e.theme.color.border}),(function(e){return e.colorPickerControl&&"\n    cursor: pointer;\n  "})),R=g.ZP.div.withConfig({displayName:"styled__ClearAction",componentId:"sc-1v57m5e-3"})(["position:absolute;top:0;right:0;height:36px;width:28px;z-index:1;cursor:pointer;> svg{position:absolute;top:10px;right:12px;color:",";}"],(function(e){return e.theme.color.textGrayscale4}));function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function F(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var H=function(e){var n=e.defaultValue,t=e.colorPickerControl,r=void 0===t||t,o=e.clearControl,i=void 0!==o&&o,u=e.inputProps,c=e.onChange,l=e.onReset,d=(0,y.$)().t,s=(0,g.Fg)(),p=(0,a.useState)(!1),f=p[0],h=p[1],v=(0,a.useState)(null!==n&&void 0!==n?n:""),m=v[0],b=v[1],x=function(e){b(e),T()(e).isValid()&&c(e)};return(0,a.useEffect)((function(){b(null!==n&&void 0!==n?n:"")}),[n]),(0,k.jsxs)(N,{children:[(0,k.jsxs)(M,{children:[(0,k.jsx)(L,{color:m||s.color.textGrayscale7,colorPickerControl:r,onClick:function(){return r&&h(!0)}}),(0,k.jsx)("input",F(F({},null!==u&&void 0!==u?u:{}),{},{value:m,onChange:function(e){var n=e.currentTarget.value&&-1===e.currentTarget.value.indexOf("#")?"#"+e.currentTarget.value:e.currentTarget.value;x(n)}})),i&&m&&(0,k.jsxs)(R,{onClick:function(){x(""),l&&l()},children:[(0,k.jsx)(I,{size:16}),(0,k.jsx)(A.Z,{text:d("label.reset"),place:"left"})]})]}),f&&(0,k.jsx)(Z.Z,{position:{top:40,left:0,right:0,bottom:0},color:m,onChange:x,onClose:function(){return h(!1)}})]})},G=g.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-18615sj-0"})(["display:flex;align-items:center;width:100%;height:36px;position:relative;box-shadow:",";border:0;border-radius:5px;padding:0 ",";&:hover{box-shadow:",";}&:focus-within{box-shadow:",";}> span{font-weight:500;color:",";white-space:nowrap;&:first-child{margin-right:",";}&:last-child{margin-left:",";}}> input{width:100%;height:100%;border:0;padding:0;outline:none;}"],(function(e){return e.theme.color.inputBoxShadow}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.color.inputBoxShadowHover}),(function(e){return e.theme.color.inputBoxShadowFocus}),(function(e){return e.theme.color.darkGray}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.spacing.xs}));function q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?q(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var K=function(e){return(0,k.jsxs)(G,{children:[e.prefix&&(0,k.jsx)("span",{children:e.prefix}),(0,k.jsx)("input",V({},e)),e.suffix&&(0,k.jsx)("span",{children:e.suffix})]})},z=t(27812),W=t(50659),Y=t(60661),X=t(43708),J=t(3347),$=t(10711),Q=t(29458),ee=t(15186),ne=t(23625),te=t(67178),re=t(64846),oe=g.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-1x4io2v-0"})(["display:flex;width:100%;min-height:36px;box-shadow:",";border:0;border-radius:5px;outline:none;background-color:",";cursor:text;"," .content-editable{flex:1;min-height:18px;padding:9px ",";line-height:1.15;color:",";caret-color:",";&:empty:before{content:attr(placeholder) ' ';display:block;-webkit-text-fill-color:",";}}span.mention{opacity:0.6;cursor:pointer;&:hover{opacity:0.8;}}"," ",""],(function(e){return e.theme.color.inputBoxShadow}),(function(e){return e.theme.color.inputBackground}),(function(e){var n=e.rows;return n&&"\n    min-height: calc(".concat(n," * 36px);\n  ")}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.color.text}),(function(e){return e.theme.color.text}),(function(e){return e.theme.color.inputPlaceholder}),(function(e){var n=e.theme;return!e.disabled&&"\n    &:hover {\n      box-shadow: ".concat(n.color.inputBoxShadowHover,";\n    }\n\n    &:focus-within {\n      box-shadow: ").concat(n.color.inputBoxShadowFocus,";\n    }\n  ")}),(function(e){return e.disabled&&"\n    cursor: not-allowed;\n    opacity: 0.9;\n  "})),ie=g.ZP.div.withConfig({displayName:"styled__InlineLabel",componentId:"sc-1x4io2v-1"})(["min-height:18px;padding:9px 0 9px ",";margin-right:-4px;line-height:1.15;color:",";"],(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.color.textGrayscale4})),ue=g.ZP.div.withConfig({displayName:"styled__ActionButtons",componentId:"sc-1x4io2v-2"})(["padding:2px 2px 2px 0;button{color:",";&.text-format{cursor:help;&:hover{background:",";}}}"],(function(e){return e.theme.color.gray}),(function(e){return e.theme.color.inputBackground}));function ae(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ae(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ae(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function le(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return de(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return de(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}function de(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var se="",pe=!1,fe=!1,he=null,ve=function(e){var n,t,r=e.value,o=e.blocks,i=e.placeholder,u=e.autoFocus,c=e.inlineLabel,l=e.disabled,d=e.isMultiline,s=e.rows,p=e.allowTextFormat,f=e.disallowCharacters,v=e.mentionTriggerAllowedPrecedingCharacters,m=e.actionButtons,g=e.onChange,b=(0,y.$)().t,x=(0,a.useRef)(null),O=(0,a.useState)(!1),U=O[0],w=O[1],C=(0,a.useState)(null),j=C[0],S=C[1],E=(0,a.useState)(!1),B=E[0],P=E[1],D=null!==(n=null===r||void 0===r?void 0:r.safeHTMLSchema)&&void 0!==n?n:[],T=null!==(t=null===r||void 0===r?void 0:r.mentions)&&void 0!==t?t:[],I=function(e){var n={safeHTMLSchema:(0,Y.nf)(x.current.childNodes),mentions:e};(0,Y.Bz)(n)?g(null):g(n)},Z=function(){var e,n;if(x.current){var t=(0,X.fI)();if(!x.current.contains(t)){var r=(0,J.KS)(x.current);r?(0,X.KJ)(r,null!==(e=null===(n=r.textContent)||void 0===n?void 0:n.length)&&void 0!==e?e:0):x.current.focus()}}},A=function(e){if(["keydown","keyup"].includes(e.type)&&(pe||fe))fe=!1;else switch(e.type){case"keydown":if(se=e.key,document.getElementById("MentionContextMenu"))return;if(f&&f.includes(e.key))return void e.preventDefault();if(229!==e.which&&(fe=!1),d||"Enter"!==e.key||e.preventDefault(),(0,$.G6)()&&["Backspace","Delete"].includes(e.key)){var n,t,r,o,i=(0,X.fI)();if("Backspace"===e.key&&"\u200b"===(0,X.oR)()&&(null===i||void 0===i||null===(n=i.previousSibling)||void 0===n?void 0:n.nodeType)===Node.ELEMENT_NODE&&(null===i||void 0===i?void 0:i.previousSibling).classList.contains("mention"))null===i||void 0===i||null===(r=i.previousSibling)||void 0===r||r.remove();if("Delete"===e.key&&"\u200b"===(0,X.ut)()&&(null===i||void 0===i||null===(t=i.nextSibling)||void 0===t?void 0:t.nodeType)===Node.ELEMENT_NODE&&(null===i||void 0===i?void 0:i.nextSibling).classList.contains("mention"))null===i||void 0===i||null===(o=i.nextSibling)||void 0===o||o.remove()}if(p&&e.metaKey){if("b"===e.key)return e.preventDefault(),void(0,X.B4)("bold");if("i"===e.key)return e.preventDefault(),void(0,X.B4)("italic")}break;case"keyup":if("Escape"===e.key)return;if("@"!==se||v&&!v.includes((0,X.oR)(2))||w(!0),["Backspace","Delete"].includes(e.key)){var u,a=le(T);try{var c=function(){var e,n=u.value,t=null===(e=x.current)||void 0===e?void 0:e.querySelectorAll('[data-uuid="'.concat(n.uuid,'"]'));t&&0!==t.length||I((0,z.Z)(T).filter((function(e){return e.uuid!==n.uuid})))};for(a.s();!(u=a.n()).done;)c()}catch(y){a.e(y)}finally{a.f()}}if(p){var l,s=null===(l=window.getSelection())||void 0===l?void 0:l.toString();if("undefined"!==typeof s){var h=!!document.getElementById("TextFormatContextMenu");s.length>0&&!h?P(!0):0===s.length&&h&&P(!1)}}}},N=function(e){switch(e.type){case"compositionstart":pe=!0;break;case"compositionend":pe=!1,fe=!0}};return(0,a.useEffect)((function(){null!==x&&void 0!==x&&x.current&&D&&(x.current.innerHTML=(0,Y.Du)(D)),null!==x&&void 0!==x&&x.current&&u&&setTimeout((function(){return x.current.focus()}),1)}),[]),(0,a.useEffect)((function(){null!==x&&void 0!==x&&x.current&&""!==x.current.innerHTML&&""===x.current.innerText.trim()&&(x.current.innerHTML="")})),(0,k.jsxs)(a.Fragment,{children:[(0,k.jsxs)(oe,{rows:s,disabled:l,onClick:function(e){var n;e.stopPropagation(),l||null!==(n=e.target)&&void 0!==n&&n.closest(".content-editable")||Z()},children:[c&&(0,k.jsx)(ie,{children:c}),(0,k.jsx)(ee.Z,{ref:x,className:"content-editable",contentEditable:!l,placeholder:i,disabled:l,onClick:function(e){var n;e.stopPropagation(),l?e.preventDefault():"SPAN"===e.target.nodeName&&null!==(n=e.target)&&void 0!==n&&n.classList.contains("mention")&&S({uuid:e.target.dataset.uuid,position:(0,$.QT)(e)})},onKeyDown:A,onKeyUp:A,onInput:function(){var e;I(null!==(e=he)&&void 0!==e?e:T),he&&(he=null)},onPaste:function(e){var n=document.createElement("div");n.innerHTML=e.clipboardData.getData("text/html");var t=n.querySelectorAll("span.mention");if(p||0!==t.length){if(0!==t.length){var r=[];if(t.forEach((function(e){var n=e.dataset.uuid;n&&!T.find((function(e){return e.uuid===n}))&&r.push(e)})),0!==r.length){var i=[],u=(0,Q.VN)(o,{includeMetadata:!0});r.forEach((function(e){var n,t=e.dataset.uuid,r=(null===(n=e.textContent)||void 0===n?void 0:n.replace(/^@/,""))||"",o=u.find((function(e){return e.title===r}));t&&r&&o&&i.push({uuid:t,field:o})})),i.length>0&&(he=[].concat((0,z.Z)(T),i),I(he))}}}else{e.preventDefault();var a=e.clipboardData.getData("text/plain").trim();document.execCommand("insertText",!1,a)}},onMouseUp:function(){var e;if(p&&!l){var n=null===(e=window.getSelection())||void 0===e?void 0:e.toString();n&&n.length>0&&P(!0)}},onCompositionStart:N,onCompositionEnd:N}),!l&&m&&(0,k.jsx)(ue,{children:m.map((function(e,n){var t=e.type,r=e.icon,o=e.tooltip,i=e.onClick;return"open-mention"===t?(0,k.jsx)(h.Z,{icon:"at-sign",tooltip:b("tooltip.open-mentions"),tabIndex:-1,variant:"form-secondary",onClick:function(){Z(),document.execCommand("insertText",!1,"@"),w(!0)}},n):"text-format"===t?(0,k.jsx)(h.Z,{icon:"type",variant:"form-secondary",tooltip:b("tooltip.text-format-possible"),className:"text-format",tabIndex:-1},n):(0,k.jsx)(h.Z,{icon:r,tooltip:o,variant:"form-secondary",tabIndex:-1,onClick:function(){Z(),i&&i()}},n)}))})]}),U&&(0,k.jsx)(ne.Z,{blocks:o,options:{fields:{includeMetadata:!0,filterOutBlockTypes:d?[]:W.ki},mentionFollowingCharacter:(0,$.G6)()?"\u200b":void 0},onInsert:function(e){return I([].concat((0,z.Z)(T),[e]))},onClose:function(){w(!1)}}),j&&T.find((function(e){return e.uuid===j.uuid}))&&(0,k.jsx)(te.Z,{mention:T.find((function(e){return e.uuid===j.uuid})),position:j.position,onUpdate:function(e){return I(T.map((function(n){return n.uuid===j.uuid?ce(ce({},n),e):n})))},onRemove:function(){var e;null===(e=x.current)||void 0===e||e.querySelectorAll('[data-uuid="'.concat(j.uuid,'"]')).forEach((function(e){return e.remove()})),I((0,z.Z)(T).filter((function(e){return e.uuid!==j.uuid})))},onClose:function(){return S(null)}}),B&&(0,k.jsx)(re.Z,{onClose:function(){return P(!1)}})]})},ye=g.ZP.textarea.withConfig({displayName:"styled__Container",componentId:"sc-12a7rsh-0"})(["width:100%;min-height:96px;padding:12px;color:",";caret-color:",";background-color:",";box-shadow:",";border:0;border-radius:5px;outline:none;&:hover{box-shadow:",";}&:focus{box-shadow:",";}&::placeholder{color:",";}"],(function(e){return e.theme.color.text}),(function(e){return e.theme.color.text}),(function(e){return e.theme.color.inputBackground}),(function(e){return e.theme.color.inputBoxShadow}),(function(e){return e.theme.color.inputBoxShadowHover}),(function(e){return e.theme.color.inputBoxShadowFocus}),(function(e){return e.theme.color.inputPlaceholder}));function me(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var ge=function(e){return(0,k.jsx)(ye,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?me(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e))},be=t(27434),ke=g.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-1w6tqcj-0"})(["width:100%;position:relative;svg{position:absolute;top:10px;right:6px;color:",";pointer-events:none;}"],(function(e){return e.theme.color.gray})),xe=g.ZP.select.withConfig({displayName:"styled__StyledSelect",componentId:"sc-1w6tqcj-1"})(["width:100%;height:36px;padding:0 ",";padding-right:28px;background:",";cursor:pointer;box-shadow:",";border:0;border-radius:5px;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&:invalid{color:",";}&:hover{box-shadow:",";}&:focus{box-shadow:",";}"],(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.inputBoxShadow}),(function(e){return e.theme.color.inputPlaceholder}),(function(e){return e.theme.color.inputBoxShadowHover}),(function(e){return e.theme.color.inputBoxShadowFocus}));function Oe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Oe(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var we=function(e){var n=e.label,t=e.options,r=e.groups;return(0,k.jsxs)(ke,{children:[(0,k.jsxs)(xe,Ue(Ue({},e),{},{children:[t&&(0,k.jsx)("option",{disabled:!0,value:"",children:null!==n&&void 0!==n?n:" "}),t&&t.map((function(e){return(0,k.jsx)("option",{value:e.value,disabled:e.isDisabled,children:e.text},e.value)})),r&&r.map((function(e){return e.options.length>0&&(0,k.jsx)("optgroup",{label:e.label,children:e.options.map((function(e){return(0,k.jsx)("option",{value:e.value,disabled:e.isDisabled,children:e.text},e.value)}))},e.label)}))]})),(0,k.jsx)(be.Z,{size:16})]})},Ce=(t(96486),g.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-1kgp719-0"})(["display:flex;> div{margin-right:10px;margin-bottom:10px;}"]),g.ZP.div.withConfig({displayName:"styled__AddChip",componentId:"sc-1kgp719-1"})(["position:relative;display:inline-flex;align-items:center;justify-content:center;height:32px;padding:0 12px;border:0;border-radius:5px;background:",";color:",";font-size:14px;user-select:none;transition:background 200ms ease-in 0s;transition:color 100ms ease-in 0s;> svg:first-child{margin-right:",";}> div{position:absolute;top:0;left:0;right:0;bottom:0;select{opacity:0;padding:0;height:100%;cursor:pointer;}svg{display:none;}}&:hover{background:",";}"],(function(e){return e.theme.color.grayBackground}),(function(e){return e.theme.color.text}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.color.lighterGray})),g.ZP.div.withConfig({displayName:"styled__Chip",componentId:"sc-1kgp719-2"})(["display:inline-flex;align-items:center;justify-content:center;height:32px;padding:0 12px;border:0;border-radius:5px;background:","cc;color:",";font-size:14px;font-weight:bold;user-select:none;cursor:pointer;transition:background 200ms ease-in 0s;transition:color 100ms ease-in 0s;> svg:first-child{margin-left:",";color:",";}&:hover{opacity:0.75;}"],(function(e){return e.theme.color.main}),(function(e){return e.theme.color.white}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.color.white})),t(7745)),je=t(89209),Se=t(46445),Ee=(0,$.rZ)(),Be=g.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-1a7xrjj-0"})(["display:flex;"," label{padding-left:",";}> svg{color:"," !important;margin-left:",";}"],(function(e){return e.hasText&&"\n    flex: 1;\n    width: 100%;\n  "}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.color.gray}),(function(e){return e.theme.spacing.sm})),Pe=g.ZP.div.withConfig({displayName:"styled__CheckboxInput",componentId:"sc-1a7xrjj-1"})(["position:relative;display:flex;align-items:center;justify-content:center;min-width:18px;min-height:18px;width:18px;height:18px;background-color:",";box-shadow:",";border-radius:3px;-webkit-tap-highlight-color:transparent;"," input{position:absolute;top:-1px;right:-1px;bottom:-1px;left:-1px;-webkit-appearance:checkbox;opacity:0;min-width:20px;min-height:20px;width:20px;height:20px;cursor:pointer;}svg{color:",";}"," ",""],(function(e){return e.theme.color.inputBackground}),(function(e){return e.theme.color.inputBoxShadow}),(function(e){var n=e.theme;return Ee&&"\n    &:hover {\n      box-shadow: ".concat(n.color.inputBoxShadowHover,";\n    }\n\n    &:focus-within {\n      box-shadow: ").concat(n.color.inputBoxShadowFocus,";\n    }\n  ")}),(function(e){return e.theme.color.black}),(function(e){var n=e.theme;return e.isChecked&&"\n    box-shadow: ".concat(n.color.inputBoxShadowActive," !important;\n    background-color: ").concat(n.color.accent,";\n\n    svg {\n      color: ").concat(n.color.white,";\n    }\n  ")}),(function(e){var n=e.theme;return e.isChecked&&Ee&&"\n    &:focus-within {\n      box-shadow: ".concat(n.color.inputBoxShadowActiveFocus," !important;\n    }\n  ")})),De=function(e){var n=e.value,t=e.text,r=e.isChecked,o=e.isRequired,i=e.ariaInvalid,u=e.ariaDescribedBy,a=e.onToggle,c=e.renderRequiredIndicator;return(0,k.jsxs)(Be,{hasText:!!t,children:[(0,k.jsxs)(Pe,{isChecked:r,children:[r&&(0,k.jsx)(Se.Z,{strokeWidth:3}),(0,k.jsx)("input",{id:"checkbox_".concat(n),type:"checkbox",checked:r,required:o,"aria-invalid":i?"true":"false","aria-describedby":u,onChange:function(){return a&&a(n)}})]}),t&&(0,k.jsx)("label",{htmlFor:"checkbox_".concat(n),children:t}),c&&c()]})};function Te(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var Ie,Ze=(0,a.forwardRef)((function(e,n){var t=e.action,i=e.method,d=e.submitValue,s=e.submitFullWidth,p=e.formData,y=e.validationRules,m=e.onLoadingChange,g=e.onValidationErrors,b=e.onSubmitContinue,x=e.onSubmitSuccess,O=e.onSubmitFailure,U=e.children,w=f(),C=(0,o.Z)(w,3),j=C[0],S=C[1],E=C[2],B=(0,a.useState)(!1),P=B[0],D=B[1],T=(0,a.useState)(),I=T[0],Z=T[1],A=function(e){D(e),m&&m(e)},N=(0,a.useRef)(!0);return(0,a.useEffect)((function(){N.current?N.current=!1:g&&g(j)}),[j]),(0,k.jsxs)("form",{ref:n,onSubmit:function(){var e=(0,r.Z)(u().mark((function e(n){var r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(!y||!S||S(p,y))){e.next=39;break}if(A(!0),e.t0=b,!e.t0){e.next=10;break}return e.next=8,b();case 8:e.t1=e.sent,e.t0=!1===e.t1;case 10:if(!e.t0){e.next=13;break}return A(!1),e.abrupt("return");case 13:return r=p,"GET"===i?r={params:p}:"DELETE"===i&&(r={data:p}),e.prev=15,e.next=18,(0,c._i)(t,i,r);case 18:o=e.sent,[200,201,202,204].includes(o.status)&&x(o.data),e.next=39;break;case 22:if(e.prev=22,e.t2=e.catch(15),A(!1),!((a=e.t2.response)&&[400,401,404].includes(a.status)&&a.data.errorType)){e.next=37;break}e.t3=a.data.errorType,e.next="VALIDATION"===e.t3||"LOGIN_UNAUTHORIZED"===e.t3||"USER_ALREADY_EXISTS"===e.t3?30:32;break;case 30:return E(a.data.errors[0].field,a.data.errors[0].type,a.data.errors[0].constraint,a.data.errors[0].message),e.abrupt("break",34);case 32:return Z(e.t2),e.abrupt("break",34);case 34:O&&O(a.data.errorType,a.data.errors[0].data||{}),e.next=39;break;case 37:Z(e.t2),a||(0,l.Tb)(e.t2);case 39:case"end":return e.stop()}}),e,null,[[15,22]])})));return function(n){return e.apply(this,arguments)}}(),children:[I&&(0,k.jsx)(v.Z,{exception:I}),U,(0,k.jsx)(h.Z,{type:"submit",variant:"form",value:d,fullWidth:s,isLoading:P})]})})),Ae=(Ie=E.Z,function(e){var n=(0,a.useRef)(null);return(0,a.useEffect)((function(){setTimeout((function(){var e;return null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.focus()}),2)}),[]),(0,k.jsx)(Ie,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Te(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Te(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({ref:n},e))})},5765:function(e,n,t){t.d(n,{Z:function(){return H}});var r=t(59499),o=t(67294),i=t(96486),u=t(83366),a=t(12274),c=t(42298),l=t(34530),d=t(95826),s=t(94638),p=t(75830),f=t(70879),h=t(64962),v=t(3006),y=t(63345),m=t(73020),g=t(17586),b=t(94952),k=t(29081),x=t(40302),O=t(15155),U=t(68554),w=t(40944),C=t(24221),j=t(32427),S=t(14779),E=t(72728),B=t(90632),P=t(85673),D=t(34215),T=t(94433),I=t(12329),Z=t(16969),A=t(86733),N=t(25534),M=t(87379).ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-wjvnhf-0"})(["width:100%;> div{width:100%;}input{width:100%;height:36px;padding:0 ",";box-shadow:",";border:0;border-radius:5px;outline:none;background-color:",";color:",";caret-color:",";&:hover{box-shadow:",";}&:focus{box-shadow:",";}&::placeholder{color:",";}}"],(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.color.inputBoxShadow}),(function(e){return e.theme.color.inputBackground}),(function(e){return e.theme.color.text}),(function(e){return e.theme.color.text}),(function(e){return e.theme.color.inputBoxShadowHover}),(function(e){return e.theme.color.inputBoxShadowFocus}),(function(e){return e.theme.color.inputPlaceholder})),L=t(85893);function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var F={en:d.Z,nl:s.Z,fr:p.Z,de:f.Z,it:h.Z,ko:v.Z,es:y.Z,esMX:y.Z,pl:m.Z,cs:g.Z,pt:b.Z,ptBR:k.Z,fi:x.Z,sv:O.Z,ru:U.Z,ja:w.Z,da:C.Z,no:j.Z,lv:S.Z,id:E.Z,fil:l.fil,zhCN:B.Z,zhTW:P.Z,vi:D.Z,he:T.Z,tr:I.Z,uk:Z.Z},H=function(e){var n,t=e.defaultValue,r=e.placeholder,l=e.onChange,d=e.dayPickerProps,s=void 0===d?{}:d,p=e.language,f=void 0===p?"en":p,h=(0,o.useState)(t),v=h[0],y=h[1],m=null!==(n=F[f.replace("-","")])&&void 0!==n?n:F.en,g=(0,i.range)(0,12).map((function(e){var n;return null===(n=m.localize)||void 0===n?void 0:n.month(e)})),b=(0,i.range)(0,7).map((function(e){var n;return null===(n=m.localize)||void 0===n?void 0:n.day(e)})),k=b.map((function(e,n){if("he"===f)switch(n){case 0:return"\u05d0";case 1:return"\u05d1";case 2:return"\u05d2";case 3:return"\u05d3";case 4:return"\u05d4";case 5:return"\u05d5";case 6:return"\u05e9"}else if("vi"===f)switch(n){case 0:return"CN";case 1:return"T2";case 2:return"T3";case 3:return"T4";case 4:return"T5";case 5:return"T6";case 6:return"T7"}return["zh-CN","zh-TW"].includes(f)?e:e.substring(0,2)}));return(0,L.jsx)(M,{children:(0,L.jsx)(A.default,{value:t,onDayChange:function(e){e&&(e.setHours(0),l(e))},format:"PP",formatDate:function(e,n){return(0,c.Z)(e,n,{locale:m})},parseDate:function(e){var n=(0,u.Z)(e,"PP",new Date,{locale:m});if((0,a.Z)(n))return n},placeholder:r,inputProps:e.inputProps,keepFocus:!1,dayPickerProps:_(_({},s),{},{firstDayOfWeek:1,month:v,months:g,weekdaysLong:b,weekdaysShort:k,captionElement:function(e){var n=e.date;return(0,L.jsx)(N.Z,{date:n,localeMonths:g,onChange:function(e){return y(e)}})}})})})}},55e3:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(59499),o=t(67294),i=t(87379).ZP.input.withConfig({displayName:"styled__Container",componentId:"sc-141nne-0"})(["width:100%;height:36px;padding:0 ",";box-shadow:",";border:0;border-radius:5px;outline:none;background-color:",";color:",";caret-color:",";&:hover{box-shadow:",";}&:focus{box-shadow:",";}&::placeholder{color:",";}"],(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.color.inputBoxShadow}),(function(e){return e.theme.color.inputBackground}),(function(e){return e.theme.color.text}),(function(e){return e.theme.color.text}),(function(e){return e.theme.color.inputBoxShadowHover}),(function(e){return e.theme.color.inputBoxShadowFocus}),(function(e){return e.theme.color.inputPlaceholder})),u=t(85893);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var c=(0,o.forwardRef)((function(e,n){return(0,u.jsx)(i,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({ref:n},e))})),l=c},80061:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(59499),o=t(67294),i=t(31567),u=t(27434),a=t(96486),c=t(9982),l=t(15025),d=t(87379),s=d.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-1c68hv2-0"})(["width:100%;input{width:100%;height:36px;padding:0 ",";box-shadow:",";border:0;border-radius:5px;outline:none;&:hover{box-shadow:",";}&:focus{box-shadow:",";}&::placeholder{color:",";}}"],(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.color.inputBoxShadow}),(function(e){return e.theme.color.inputBoxShadowHover}),(function(e){return e.theme.color.inputBoxShadowFocus}),(function(e){return e.theme.color.inputPlaceholder})),p=d.ZP.div.withConfig({displayName:"styled__TimePickerWrapper",componentId:"sc-1c68hv2-1"})(["position:relative;display:flex;"]),f=d.ZP.div.withConfig({displayName:"styled__TimePicker",componentId:"sc-1c68hv2-2"})(["position:absolute;left:0;z-index:100000001;background:",";box-shadow:",";min-width:200px;"],(function(e){return e.theme.color.background}),(function(e){return e.theme.color.menuBoxShadow})),h=d.ZP.div.withConfig({displayName:"styled__TimePickerContent",componentId:"sc-1c68hv2-3"})(["display:flex;background:",";padding:",";"],(function(e){return e.theme.color.menuBackground}),(function(e){return e.theme.spacing.md})),v=d.ZP.div.withConfig({displayName:"styled__TimeContainer",componentId:"sc-1c68hv2-4"})(["position:relative;display:inline-flex;align-items:center;font-size:14px !important;font-weight:bold !important;svg{margin-left:2px;color:",";}&:last-child{margin-right:0;}"],(function(e){return e.theme.color.textGrayscale3})),y=d.ZP.div.withConfig({displayName:"styled__TimeSeparator",componentId:"sc-1c68hv2-5"})(["padding:0 ",";font-size:14px !important;font-weight:bold !important;"],(function(e){return e.theme.spacing.md})),m=d.ZP.select.withConfig({displayName:"styled__StyledSelect",componentId:"sc-1c68hv2-6"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;cursor:pointer;"]),g=t(85893);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var x=function(e){var n,t,r=e.defaultValue,d=e.placeholder,b=e.onChange,x=e.inputProps,O=(0,i.$)().t,U=(0,o.useRef)(null),w=(0,o.useState)(!1),C=w[0],j=w[1],S=(0,o.useState)(null!==r&&void 0!==r?r:""),E=S[0],B=S[1],P=(0,o.useState)(null!==(n=null===r||void 0===r?void 0:r.split(":")[0])&&void 0!==n?n:""),D=P[0],T=P[1],I=(0,o.useState)(null!==(t=null===r||void 0===r?void 0:r.split(":")[1])&&void 0!==t?t:""),Z=I[0],A=I[1];(0,c.Z)(U,(function(){return j(!1)}));var N=function(e){T(e),e&&Z&&(B("".concat(e,":").concat(Z)),b("".concat(e,":").concat(Z)),j(!1))},M=function(e){A(e),D&&e&&(B("".concat(D,":").concat(e)),b("".concat(D,":").concat(e)),j(!1))};return(0,o.useEffect)((function(){var e,n;B(null!==r&&void 0!==r?r:""),T(null!==(e=null===r||void 0===r?void 0:r.split(":")[0])&&void 0!==e?e:""),A(null!==(n=null===r||void 0===r?void 0:r.split(":")[1])&&void 0!==n?n:"")}),[r]),(0,g.jsxs)(s,{children:[(0,g.jsx)(l.II,k(k({},null!==x&&void 0!==x?x:{}),{},{type:"text",value:E,placeholder:d,readOnly:!0,onClick:function(){return j(!0)},onFocus:function(){return j(!0)},onChange:function(){}})),C&&(0,g.jsx)(p,{ref:U,children:(0,g.jsx)(f,{children:(0,g.jsxs)(h,{children:[(0,g.jsxs)(v,{children:[D||O("label.hour"),(0,g.jsx)(u.Z,{size:12}),(0,g.jsxs)(m,{value:D,onChange:function(e){return N(e.currentTarget.value)},children:[(0,g.jsx)("option",{disabled:!0,value:""}),(0,a.range)(0,24).map((function(e){return(0,g.jsx)("option",{value:(0,a.padStart)(e.toString(),2,"0"),children:(0,a.padStart)(e.toString(),2,"0")},e)}))]})]}),(0,g.jsx)(y,{children:":"}),(0,g.jsxs)(v,{children:[Z||O("label.minutes"),(0,g.jsx)(u.Z,{size:12}),(0,g.jsxs)(m,{value:Z,onChange:function(e){return M(e.currentTarget.value)},children:[(0,g.jsx)("option",{disabled:!0,value:""}),(0,a.range)(0,60).map((function(e){return(0,g.jsx)("option",{value:(0,a.padStart)(e.toString(),2,"0"),children:(0,a.padStart)(e.toString(),2,"0")},e)}))]})]})]})})})]})}},7745:function(e,n,t){t.d(n,{Z:function(){return O}});var r=t(27812),o=t(59499),i=t(67294),u=t(46445),a=t(27434),c=t(77920),l=t(10711),d=t(15025),s=t(60291),p=t(87379),f=t(76051),h=t(47927),v=p.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-vhkjlc-0"})(["width:100%;position:relative;> input{padding-right:28px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;color:",";&::placeholder{color:",";}}> svg{position:absolute;top:10px;right:6px;color:",";pointer-events:none;}> div{flex:1;min-width:100%;}"],(function(e){return e.theme.color.text}),(function(e){return e.theme.color.inputPlaceholder}),(function(e){return e.theme.color.textGrayscale3})),y=(0,p.ZP)(h.Vm).withConfig({displayName:"styled__ListContainer",componentId:"sc-vhkjlc-1"})(["width:100%;min-width:100%;max-width:500px;@media (max-width:","){max-width:300px;}@media (max-width:","){max-width:200px;}"],f.Z.lg,f.Z.xs),m=t(85893);function g(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O=function(e){var n,t,o=e.options,p=e.groups,f=e.selectedValue,b=e.multiple,k=e.selectedValues,O=e.placeholder,U=e.emptyText,w=e.disableDeselecting,C=void 0!==w&&w,j=e.inputProps,S=void 0===j?{}:j,E=e.onChange,B=e.onOpen,P=e.onClose,D=(0,i.useRef)(null),T=(0,i.useState)(!1),I=T[0],Z=T[1],A=(0,i.useState)(!1),N=A[0],M=A[1],L=(0,i.useState)(null),R=L[0],_=L[1],F=(0,i.useState)(""),H=F[0],G=F[1],q=(null!==p&&void 0!==p?p:[{options:o}]).map((function(e){return x(x({},e),{},{options:e.options.filter((function(e){var n=e.text;return H.toLowerCase().split(" ").every((function(e){return-1!==n.toLowerCase().indexOf(e.trim())}))}))})})).filter((function(e){return 0===H.length||H.length>0&&e.options.length>0})),V=(n=[]).concat.apply(n,(0,r.Z)(q.map((function(e){return e.options})))),K=null!==k&&void 0!==k?k:f?[f]:[],z=[],W=g(K);try{for(W.s();!(t=W.n()).done;){var Y,X=t.value,J=g(q);try{for(J.s();!(Y=J.n()).done;){var $,Q=g(Y.value.options);try{for(Q.s();!($=Q.n()).done;){var ee=$.value,ne=ee.value,te=ee.text;X===ne&&z.push(te)}}catch(ae){Q.e(ae)}finally{Q.f()}}}catch(ae){J.e(ae)}finally{J.f()}}}catch(ae){W.e(ae)}finally{W.f()}var re=function(){Z(!0),B&&B()},oe=function(){Z(!1),G(""),_(null),P&&P()},ie=function(e){if(G(""),_(null),b){var n=(0,r.Z)(K);return n.includes(e)?n.splice(n.indexOf(e),1):n.push(e),void E(n)}E(!1===K.includes(e)||C?e:void 0),oe()},ue=function(e){var n=e.value,t=e.text,r=e.icon,o=e.disabled,i=r?(0,c.l7)(r):null,a=["list-item"];return n===R&&a.push("selected"),o&&a.push("disabled"),(0,m.jsxs)("div",{className:a.join(" "),"data-value":n,onClick:function(){return!o&&ie(n)},children:[i&&(0,m.jsx)(i,{size:17}),(0,m.jsx)("span",{children:t}),K.includes(n)&&(0,m.jsx)(u.Z,{size:17})]},n)};return(0,i.useEffect)((function(){V.length>0&&H.length>0&&_(V[0].value)}),[H]),(0,i.useEffect)((function(){(0,l.b1)()&&V.length<20&&M(!0)}),[]),(0,m.jsxs)(v,{children:[(0,m.jsx)(d.II,x(x({},S),{},{type:"text",value:z.join(", ")||H,placeholder:O,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",readOnly:N,onClick:re,onKeyDown:function(e){I||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||"Tab"===e.key||re();var n=V.findIndex((function(e){return e.value===R}));switch(e.key){case"ArrowDown":case"ArrowUp":e.preventDefault(),"ArrowDown"===e.key&&++n>V.length-1&&(n=0),"ArrowUp"===e.key&&--n<0&&(n=V.length-1),V[n]&&(_(V[n].value),function(e){var n,t=null===(n=D.current)||void 0===n?void 0:n.parentElement;if(t){var r=t.querySelector('[data-value="'.concat(e,'"]'));if(r){var o=r.getBoundingClientRect(),i=o.y,u=o.height,a=t.getBoundingClientRect(),c=a.y,l=a.height;c<=i&&i+u<=c+l||r.scrollIntoView({behavior:"smooth",block:"nearest"})}}}(V[n].value));break;case"Enter":e.preventDefault(),R&&ie(R);break;case" ":R&&0===H.length&&(e.preventDefault(),ie(R));break;case"Backspace":case"Delete":R&&_(null),K.length>0&&(e.preventDefault(),e.stopPropagation(),G(""),E(b?[]:void 0))}},onChange:function(e){var n=e.currentTarget.value;0===K.length&&G(n)}})),(0,m.jsx)(a.Z,{size:16}),I&&(0,m.jsx)(s.Z,{position:{top:40,left:0,bottom:40,right:0},onClose:oe,children:(0,m.jsxs)(y,{ref:D,children:[0!==V.length&&q.map((function(e,n){var t=e.options,r=e.label;return(0,m.jsxs)(h.Qu,{children:[r&&(0,m.jsx)(h.eX,{children:r}),t.map(ue)]},"group_".concat(n))})),0===V.length&&U&&(0,m.jsx)(h.Qu,{children:ue({value:"",text:U,icon:"empty",disabled:!0})},"empty")]})})]})}},89209:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(1958),o=t(87379),i=o.ZP.div.withConfig({displayName:"styled__Container",componentId:"sc-1for6w3-0"})(["position:relative;width:30px;min-width:30px;height:18px;background-color:",";border-radius:15px;cursor:pointer;",""],(function(e){return e.theme.color.accent}),(function(e){var n=e.theme;return!1===e.checked&&"\n    background-color: ".concat(n.color.textGrayscale4,";\n\n    &:hover {\n      background-color: ").concat(n.color.textGrayscale3,"cc;\n    }\n  ")})),u=o.ZP.div.withConfig({displayName:"styled__Toggle",componentId:"sc-1for6w3-1"})(["position:absolute;display:grid;place-items:center center;top:2px;width:14px;height:14px;background-color:",";border-radius:50%;"," ",""],(function(e){return e.theme.color.white}),(function(e){return!0===e.checked&&"\n    right: 2px;\n  "}),(function(e){return!1===e.checked&&"\n    left: 2px;\n  "})),a=t(85893),c=function(e){var n=e.checked,t=void 0!==n&&n,o=e.tooltipOn,c=e.tooltipOff,l=e.onChange;return(0,a.jsxs)(i,{checked:t,onClick:function(){return l&&l(!t)},children:[(0,a.jsx)(u,{checked:t}),t&&o&&(0,a.jsx)(r.Z,{text:o,place:"top"}),!t&&c&&(0,a.jsx)(r.Z,{text:c,place:"top"})]})}},11041:function(e,n,t){var r=t(67294),o=t(73935);n.Z=function(e){var n=e.children,t=e.className,i=void 0===t?"root-portal":t,u=e.el,a=void 0===u?"div":u,c=(0,r.useState)(document.createElement(a))[0];return c.classList.add(i),(0,r.useEffect)((function(){return document.body.appendChild(c),function(){document.body.removeChild(c)}}),[]),o.createPortal(n,c)}},84593:function(e,n,t){t.d(n,{V:function(){return r},i:function(){return o}});var r=/(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/g,o=/(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-z]{2,24}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g},9927:function(e,n,t){var r=t(67294),o=t(11298);n.Z=function(){return(0,r.useContext)(o.F0)}},700:function(e,n){var t=!1,r=!1;n.Z=function(e){var n=e.onEnter,o=function(e){switch(e.type){case"compositionstart":t=!0;break;case"compositionend":t=!1,r=!0}};return{onKeyDown:function(e){t||r?r=!1:(229!==e.which&&(r=!1),"Enter"===e.key&&n&&n())},onCompositionStart:o,onCompositionEnd:o}}},55235:function(e,n,t){t.d(n,{R:function(){return a},f:function(){return u}});var r=t(67294),o=t(96486),i=t(43147);function u(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=t.transformBeforeSet,a=t.transformAfterGet,c=(0,r.useCallback)((function(n){(0,i._4)(e,JSON.stringify(u?u(n):n))}),[]),l=(0,r.useCallback)((function(){try{var t=(0,i.wf)(e);return t?a?a(JSON.parse(t)):JSON.parse(t):n}catch(r){return n}}),[]),d=(0,r.useMemo)((function(){return l()}),[]),s=(0,r.useState)(d),p=s[0],f=s[1],h=(0,r.useRef)((0,o.debounce)(c,1e3)).current;return(0,r.useEffect)((function(){h(p)}),[p]),(0,r.useEffect)((function(){return function(){h.cancel()}}),[]),[p,f]}function a(e,n,t){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=u.disablePersist,c=u.getInitialState,l=u.transformBeforeSet,d=u.transformAfterGet,s=(0,r.useCallback)((function(n){(0,i._4)(e,JSON.stringify(l?l(n):n))}),[]),p=(0,r.useCallback)((function(){try{var n=(0,i.wf)(e);return n?d?d(JSON.parse(n)):JSON.parse(n):{}}catch(t){return{}}}),[]),f=(0,r.useMemo)((function(){return c?c():p()}),[]),h=(0,r.useReducer)(n,f,t),v=h[0],y=h[1],m=(0,r.useRef)((0,o.debounce)(s,1e3)).current;return(0,r.useEffect)((function(){a||m(v)}),[v]),(0,r.useEffect)((function(){return function(){m.cancel()}}),[]),[v,y]}},43147:function(e,n,t){t.d(n,{Tn:function(){return i},_4:function(){return o},wf:function(){return r}});var r=function(e){try{return localStorage.getItem(e)}catch(n){return null}},o=function(e,n){try{localStorage.setItem(e,n)}catch(t){}},i=function(e){try{localStorage.removeItem(e)}catch(n){}}},29205:function(e,n,t){t.d(n,{$T:function(){return i},$t:function(){return B},Bu:function(){return S},Gk:function(){return g},II:function(){return w},KX:function(){return M},Mo:function(){return D},Ob:function(){return j},Od:function(){return c},Rc:function(){return O},Yw:function(){return N},bi:function(){return m},e1:function(){return C},eq:function(){return f},gx:function(){return u},hL:function(){return P},hj:function(){return x},k6:function(){return h},ko:function(){return a},lZ:function(){return b},mV:function(){return U},mh:function(){return Z},n_:function(){return d},pB:function(){return l},ps:function(){return p},re:function(){return I},sJ:function(){return k},sW:function(){return v},up:function(){return y},vj:function(){return E},vl:function(){return T},wy:function(){return s},xQ:function(){return A}});var r=t(96486),o=t(78500),i=function(e,n){return{type:o.Us.Insert,data:{index:e,props:n}}},u=function(e,n){return{type:o.Us.Replace,data:{index:e,props:n}}},a=function(e){return{type:o.Us.ReplaceAll,data:{props:e}}},c=function(e){return{type:o.Us.Remove,data:{indexes:(0,r.isArray)(e)?e:[e]}}},l=function(e,n){return{type:o.Us.Move,data:{indexesToMoves:e,newIndex:n}}},d=function(e){return{type:o.Us.CreateColumnList,data:{indexesInColumns:e}}},s=function(e,n){return{type:o.Us.CreateColumn,data:{indexesInColumn:e,siblingIndex:n}}},p=function(e,n){return{type:o.Us.AddToColumn,data:{indexesInColumn:e,siblingIndex:n}}},f=function(e){return{type:o.Us.DetachFromColumn,data:{indexesInColumn:e}}},h=function(e,n){return{type:o.Us.UpdateColumnRatio,data:{index:e,diff:n}}},v=function(e,n){return{type:o.Us.UpdateValue,data:{index:e,value:n}}},y=function(e,n){return{type:o.Us.UpdatePayload,data:{index:e,payload:n}}},m=function(e){return{type:o.Us.Refresh,data:{index:e}}},g=function(e){return{type:o.Us.UpdateFormSettings,data:{payload:e}}},b=function(e){return{type:o.Us.InsertMention,data:{mention:e}}},k=function(e){return{type:o.Us.RemoveMention,data:{uuid:e}}},x=function(e,n){return{type:o.Us.UpdateMention,data:{uuid:e,payload:n}}},O=function(e,n,t){return{type:o.Us.UpdateConditionals,data:{index:e,conditionalUuid:n,modifyCallback:t}}},U=function(e,n,t){return{type:o.Us.UpdateConditionalActions,data:{index:e,actionUuid:n,modifyCallback:t}}},w=function(e,n,t){return{type:o.Us.UpdateCalculatedFields,data:{index:e,fieldUuid:n,modifyCallback:t}}},C=function(e,n,t){return{type:o.Us.UpdateHiddenFields,data:{index:e,fieldUuid:n,modifyCallback:t}}},j=function(e,n,t){return{type:o.Us.OpenInsertBlockMenu,data:{isOpen:e,atBlockUuid:n,sections:t}}},S=function(e,n){return{type:o.Us.OpenBlockSettingsContextMenu,data:{isOpen:e,atBlockUuid:n}}},E=function(e,n){return{type:o.Us.OpenBlockActionsContextMenu,data:{isOpen:e,atBlockUuid:n}}},B=function(e){return{type:o.Us.OpenTextFormatContextMenu,data:{isOpen:e}}},P=function(e,n){return{type:o.Us.OpenAuthMenu,data:{isOpen:e,trigger:n}}},D=function(e,n){return{type:o.Us.OpenTallyProMenu,data:{isOpen:e,trigger:n}}},T=function(e,n){return{type:o.Us.OpenMentionMenu,data:{isOpen:e,atBlockUuid:n}}},I=function(e,n,t){return{type:o.Us.OpenMentionSettingsMenu,data:{isOpen:e,uuid:n,position:t}}},Z=function(e,n){return{type:o.Us.OpenCommandsMenu,data:{isOpen:e,atBlockUuid:n}}},A=function(e,n){return{type:o.Us.OpenBulkInsertOptionsMenu,data:{isOpen:e,atBlockUuid:n}}},N=function(){return{type:o.Us.Undo}},M=function(){return{type:o.Us.Redo}}},11298:function(e,n,t){t.d(n,{De:function(){return z},F0:function(){return Y},Oy:function(){return q},Xf:function(){return W}});var r=t(16835),o=t(27812),i=t(59499),u=t(18172),a=t(67294),c=t(8773),l=t(96486),d=t(50659),s=t(11038),p=t(3347),f=t(43708),h=t(23593),v=t(29458),y=t(77770),m=t(32900),g=t(23026),b=t(35726),k=t(78500),x=t(55235),O=t(7603),U=t(81897);function w(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}(0,u.pV)();var E=null,B=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.blocks&&(n.blocks=null!==(e=n.blocks.map((function(e){return S(S({},e),{},{ref:(0,p.ld)(e.value)})})))&&void 0!==e?e:[]);return S({blocks:[],settings:null,blocksUpdateUuid:null,updateBlockGroupUuids:[],insertBlockMenu:{isOpen:!1,atBlockUuid:void 0,sections:void 0},blockSettingsContextMenu:{isOpen:!1,atBlockUuid:void 0},blockActionsContextMenu:{isOpen:!1,atBlockUuid:void 0},textFormatContextMenu:{isOpen:!1},authMenu:{isOpen:!1,trigger:void 0},tallyProMenu:{isOpen:!1,trigger:void 0},mentionMenu:{isOpen:!1,atBlockUuid:void 0},mentionSettingsMenu:{isOpen:!1,uuid:void 0,position:void 0},commandsMenu:{isOpen:!1,atBlockUuid:void 0},bulkInsertOptionsMenu:{isOpen:!1,atBlockUuid:void 0},versionHistory:[],versionHistoryIndex:0},n)},P=function(e,n){var t=[],r=[];return e.blocks.forEach((function(o){var i,u,a;if(r.includes(o.uuid))return e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids.push(o.groupUuid),void(0,g.uT)("Duplicate block",{extra:{blockType:o.type,actionType:n.type,actionData:JSON.stringify(null!==(i=n.data)&&void 0!==i?i:{}),lastActionType:null===(u=E)||void 0===u?void 0:u.type,lastActionData:E?JSON.stringify(null!==(a=E.data)&&void 0!==a?a:{}):void 0}});t.push(o),r.push(o.uuid)})),e.blocks=t,e},D=function(e,n,t,r){var o;if(!n||!t||!1===d.FW.includes(t))return e;r=null!==(o=r)&&void 0!==o?o:{};var i=e.blocks.filter((function(e){return e.groupUuid===n})).length,u=0;return e.blocks=e.blocks.map((function(e){return e.groupUuid===n&&d.FW.includes(t)&&(e.payload=S(S(S({},e.payload),(0,l.omit)(r,["hasImage","image","isHidden","columnListUuid","columnUuid","columnRatio"])),{},{index:u,isFirst:0===u,isLast:u===i-1}),u++),e})),e},T=function(e,n,t){var r;if(null===n||void 0===n||null===(r=n.payload)||void 0===r||!r.columnListUuid)return e;var o=t.map((function(e){return e.uuid}));return e.blocks=e.blocks.map((function(e){return o.includes(e.uuid)&&!d.H.includes(e.type)&&(e.payload=S(S({},e.payload),{},{columnListUuid:n.payload.columnListUuid,columnUuid:n.payload.columnUuid,columnRatio:n.payload.columnRatio})),e})),e},I=function(e,n){var t=e.blocks.filter((function(e){return e.payload.columnListUuid===n}));if(0===t.length)return e;var r=new Map;if(t.forEach((function(e){var n;r.set(e.payload.columnUuid,null!==(n=e.payload.columnRatio)&&void 0!==n?n:0)})),1===r.size)return t.forEach((function(e){e.payload.columnListUuid=void 0,e.payload.columnUuid=void 0,e.payload.columnRatio=void 0})),e;var o=(0,m.Cz)(r);return t.forEach((function(n){var t=r.get(n.payload.columnUuid),i=o.get(n.payload.columnUuid);t!==i&&(n.payload.columnRatio=i,e.updateBlockGroupUuids.push(n.groupUuid))})),e},Z=function(e){var n=e.blocks.filter((function(e){return e.type===b.k.PageBreak})).length;if(0===n)return e;var t=0;return e.blocks=e.blocks.map((function(r){if(r.type===b.k.PageBreak){var o=(0,s.Xd)(t+2,e.blocks);r.payload={index:t,name:r.payload.name,isQualifiedForThankYouPage:o,isThankYouPage:r.payload.isThankYouPage&&o,isFirst:0===t,isLast:t===n-1,button:r.payload.button},t++,e.updateBlockGroupUuids.push(r.groupUuid)}return r})),e},A=function(e,n){var t,r=null!==(t=e.blocks[0].payload.mentions)&&void 0!==t?t:[];if(0===r.length)return e;var o=r.filter((function(e){return e.field.type===U.f.InputField})),i=r.filter((function(e){return e.field.type===U.f.CalculatedField})),a=r.filter((function(e){return e.field.type===U.f.HiddenField}));if(o.length>0&&d.zN.includes(n.type))for(var c=(0,y.jZ)((0,u.Js)(e).blocks),s=(0,y.jZ)(e.blocks),p=Array.from(c.keys()),f=function(){var n,t=v[h],i=c.get(t),u=s.get(t),a=w(o.filter((function(e){return e.field.blockGroupUuid===t})));try{var d=function(){var t=n.value.uuid;i&&!u&&(document.querySelectorAll('[data-uuid="'.concat(t,'"]')).forEach((function(e){return e.remove()})),e.blocks[0].payload.mentions=r.filter((function(e){return e.uuid!==t}))),i&&u&&i.title!==u.title&&document.querySelectorAll('[data-uuid="'.concat(t,'"]')).forEach((function(e){e.innerHTML="@".concat((0,l.truncate)(u.title||""))}))};for(a.s();!(n=a.n()).done;)d()}catch(p){a.e(p)}finally{a.f()}},h=0,v=p;h<v.length;h++)f();if(i.length>0&&n.type===b.k.CalculatedFields){var m=[];e.blocks.filter((function(e){return e.type===b.k.CalculatedFields})).forEach((function(e){m=m.concat(e.payload.calculatedFields||[])}));var g,k=w(i);try{var x=function(){var n,t=g.value,o=t.uuid,i=t.field,u=m.find((function(e){return e.uuid===i.uuid}));"undefined"===typeof u&&(document.querySelectorAll('[data-uuid="'.concat(o,'"]')).forEach((function(e){return e.remove()})),e.blocks[0].payload.mentions=r.filter((function(e){return e.uuid!==o}))),u&&"@".concat(u.name)!==(null===(n=document.querySelector('[data-uuid="'.concat(o,'"]')))||void 0===n?void 0:n.innerHTML)&&document.querySelectorAll('[data-uuid="'.concat(o,'"]')).forEach((function(e){e.innerHTML="@".concat(u.name)}))};for(k.s();!(g=k.n()).done;)x()}catch(E){k.e(E)}finally{k.f()}}if(a.length>0&&n.type===b.k.HiddenFields){var O=[];e.blocks.filter((function(e){return e.type===b.k.HiddenFields})).forEach((function(e){O=O.concat(e.payload.hiddenFields||[])}));var C,j=w(a);try{var S=function(){var n,t=C.value,o=t.uuid,i=t.field,u=O.find((function(e){return e.uuid===i.uuid}));"undefined"===typeof u&&(document.querySelectorAll('[data-uuid="'.concat(o,'"]')).forEach((function(e){return e.remove()})),e.blocks[0].payload.mentions=r.filter((function(e){return e.uuid!==o}))),u&&"@".concat(u.name)!==(null===(n=document.querySelector('[data-uuid="'.concat(o,'"]')))||void 0===n?void 0:n.innerHTML)&&document.querySelectorAll('[data-uuid="'.concat(o,'"]')).forEach((function(e){e.innerHTML="@".concat(u.name)}))};for(j.s();!(C=j.n()).done;)S()}catch(E){j.e(E)}finally{j.f()}}return e},N=function(e,n){if(!1===[b.k.Title,b.k.Heading3,b.k.Label].includes(n.type))return e;var t=(0,y.bl)((0,u.Js)(e).blocks).get(n.uuid),r=(0,y.bl)(e.blocks).get(n.uuid);return null!==t&&void 0!==t&&t.blockGroupUuid&&e.updateBlockGroupUuids.push(t.blockGroupUuid),null!==r&&void 0!==r&&r.blockGroupUuid&&e.updateBlockGroupUuids.push(r.blockGroupUuid),e},M=function(e,n){var t=[b.k.HiddenFields,b.k.CalculatedFields,b.k.PageBreak];if(!1===[].concat((0,o.Z)(d.Ig),[b.k.Title,b.k.Heading3,b.k.Label]).includes(n.type)&&!1===t.includes(n.type))return e;var r=e.blocks.filter((function(e){return[b.k.ConditionalLogic,b.k.Payment,b.k.CalculatedFields].includes(e.type)}));if(0===r.length)return e;var i=(0,y.bl)((0,u.Js)(e).blocks).get(n.uuid),a=(0,y.bl)(e.blocks).get(n.uuid);if(!i&&!a&&!1===t.includes(n.type))return e;var l,s=[null===i||void 0===i?void 0:i.blockGroupUuid,null===a||void 0===a?void 0:a.blockGroupUuid].filter((function(e){return e})),p=w(r);try{for(p.s();!(l=p.n()).done;){var f=l.value,h=!1;switch(f.type){case b.k.ConditionalLogic:(0,v.dV)(f.payload,n,s)&&(f.payload.updateUuid=(0,c.Z)(),h=!0);break;case b.k.Payment:var m,g;null!==(m=f.payload.amount)&&void 0!==m&&m.blockGroupUuid&&s.includes(null===(g=f.payload.amount)||void 0===g?void 0:g.blockGroupUuid)&&(h=!0);break;case b.k.CalculatedFields:(0,v.cO)(f.payload,s)&&(h=!0)}h&&(e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids.push(f.groupUuid))}}catch(k){p.e(k)}finally{p.f()}return e},L=function e(n,t,r){var o,i=-1,u=w(n.conditionals);try{for(u.s();!(o=u.n()).done;){var a,c=o.value;if(i++,c.uuid===t){r({groupPayload:n,conditional:c,index:i});break}c.type===O.yR.Group&&null!==(a=c.payload)&&void 0!==a&&a.conditionals&&(c.payload=e(c.payload,t,r))}}catch(l){u.e(l)}finally{u.f()}return n},R=function e(n){for(var t=function e(n){var t,r=!1,o=0,i=w(n);try{for(i.s();!(t=i.n()).done;){var u,a=t.value;a.type===O.yR.Group&&null!==(u=a.payload)&&void 0!==u&&u.conditionals&&(0===a.payload.conditionals.length?(n.splice(o,1),r=!0):r=e(a.payload.conditionals)||r),o++}}catch(c){i.e(c)}finally{i.f()}return r},r=!0;r;)r=t(n);var o,i=0,u=w(n);try{for(u.s();!(o=u.n()).done;){var a,c=o.value;c.type===O.yR.Group&&null!==(a=c.payload)&&void 0!==a&&a.conditionals&&(0===c.payload.conditionals.length?n.splice(i,1):c.payload.conditionals=e(c.payload.conditionals)),i++}}catch(l){u.e(l)}finally{u.f()}return n},_=function(e,n){if(e.blocksUpdateUuid===(0,u.Js)(e).blocksUpdateUuid&&n!==k.Us.UpdateValue)return e;e.versionHistory.splice(e.versionHistoryIndex+1);var t=(new Date).getTime(),r=(0,f.Ct)();0===e.versionHistory.length&&e.versionHistory.push({actionType:n,blocks:(0,o.Z)((0,u.Js)(e).blocks),updateBlockGroupUuids:(0,o.Z)(e.updateBlockGroupUuids),timestamp:t,cursor:r}),e.versionHistory.push({actionType:n,blocks:(0,o.Z)(e.blocks),updateBlockGroupUuids:(0,o.Z)(e.updateBlockGroupUuids),timestamp:t,cursor:r}),e.versionHistoryIndex=e.versionHistory.length-1;for(var i=[],a=(0,o.Z)(e.updateBlockGroupUuids),c=e.versionHistoryIndex-1;c>=0&&!(e.versionHistory[c].timestamp<t-800);c--)i.push(c),a=[].concat((0,o.Z)(a),(0,o.Z)(e.versionHistory[c].updateBlockGroupUuids));return i.length>0&&(i.forEach((function(n){e.versionHistory.splice(n,1)})),e.versionHistoryIndex-=i.length,e.versionHistory[e.versionHistoryIndex].updateBlockGroupUuids=a),e.versionHistory.length>50&&(e.versionHistory.shift(),e.versionHistoryIndex--),e},F=function(e,n){var t=e.blocks.filter((function(e){return n.includes(e.groupUuid)}));0!==t.length&&(0,s.pB)(t).forEach((function(e){return e.ref=(0,p.bc)(e.value)}))},H=function(e,n){switch(n.type){case k.Us.Insert:var t,r,i,u,a=n.data,d=a.index,f=a.props,v=(0,p.Xm)();e.insertBlockMenu.isOpen&&e.insertBlockMenu.atBlockUuid?v=(0,p.ob)(e.insertBlockMenu.atBlockUuid):e.commandsMenu.isOpen&&e.commandsMenu.atBlockUuid&&(v=(0,p.ob)(e.commandsMenu.atBlockUuid));var y=e.blocks[v],g=(Array.isArray(f)?f:[f]).map((function(e){return(0,h.Ih)(e)}));e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=g.map((function(e){return e.groupUuid})),(t=e.updateBlockGroupUuids).push.apply(t,(0,o.Z)([null===(r=e.blocks[d-1])||void 0===r?void 0:r.groupUuid,null===(i=e.blocks[d+1])||void 0===i?void 0:i.groupUuid].filter((function(e){return e}))));var b=g[0],x=e.blocks.find((function(e){return e.groupUuid===b.groupUuid&&e.type===b.type}));return(u=e.blocks).splice.apply(u,[d,0].concat((0,o.Z)(g))),e=D(e,b.groupUuid,b.groupType,null===x||void 0===x?void 0:x.payload),y&&(e=T(e,y,g)),e=Z(e),e=N(e,b),e=A(e,b),e=M(e,b),e=P(e,n),e=_(e,n.type),(0,s.pB)(g).forEach((function(e,n){e.ref=(0,p.bc)(e.value,{focus:0===n})})),void(0,s.Sw)(g).forEach((function(e){e.ref=(0,p.w3)()}));case k.Us.Replace:var O,U,C,j,E=n.data,B=E.index,H=E.props,G=(Array.isArray(H)?H:[H]).map((function(e){return(0,h.Ih)(e)})),q=G[0],V=e.blocks[B];if(!V)return;e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=G.map((function(e){return e.groupUuid})),(O=e.updateBlockGroupUuids).push.apply(O,(0,o.Z)([null===(U=e.blocks[B-1])||void 0===U?void 0:U.groupUuid,null===(C=e.blocks[B+1])||void 0===C?void 0:C.groupUuid].filter((function(e){return e}))));var K=e.blocks.find((function(e){return e.groupUuid===q.groupUuid&&e.type===q.type}));return e.blocks.splice(B,1),(j=e.blocks).splice.apply(j,[B,0].concat((0,o.Z)(G))),e=D(e,V.groupUuid,V.groupType,V.payload),e=D(e,q.groupUuid,q.groupType,null===K||void 0===K?void 0:K.payload),e=T(e,V,G),e=Z(e),e=N(e,q),e=A(e,q),e=M(e,q),e=P(e,n),e=_(e,n.type),(0,s.pB)(G).forEach((function(e,n){e.ref=(0,p.bc)(e.value,{focus:0===n})})),void(0,s.Sw)(G).forEach((function(e){e.ref=(0,p.w3)()}));case k.Us.ReplaceAll:var z=n.data.props.map((function(e){return(0,h.Ih)(e)})).map((function(e){return S(S({},e),{},{ref:(0,p.ld)(e.value)})}));return e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=z.map((function(e){return e.groupUuid})),e.blocks=z,e=P(e,n),void(e=_(e,n.type));case k.Us.Remove:var W=n.data.indexes;e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[];var Y=[];return W.sort((function(e,n){return n-e})).forEach((function(t){var r,i,u,a,c=e.blocks[t];c&&((r=e.updateBlockGroupUuids).push.apply(r,(0,o.Z)([null===(i=e.blocks[t-1])||void 0===i?void 0:i.groupUuid,null===(u=e.blocks[t])||void 0===u?void 0:u.groupUuid,null===(a=e.blocks[t+1])||void 0===a?void 0:a.groupUuid].filter((function(e){return e})))),e.blocks.splice(t,1),e=D(e,c.groupUuid,c.groupType),c.payload.columnListUuid&&Y.push(c.payload.columnListUuid),e=Z(e),e=N(e,c),e=A(e,c),e=M(e,c),e=P(e,n))})),Y.length>0&&(0,l.uniq)(Y).forEach((function(n){e=I(e,n)})),void(e=_(e,n.type));case k.Us.Move:var X=n.data,J=X.indexesToMoves,$=X.newIndex;e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[];var Q=[];return J.sort((function(e,n){return n-e})).forEach((function(n){var t,r,i,u,a=e.blocks[n];a&&(Q.push(a),(t=e.updateBlockGroupUuids).push.apply(t,(0,o.Z)([null===(r=e.blocks[n-1])||void 0===r?void 0:r.groupUuid,null===(i=e.blocks[n])||void 0===i?void 0:i.groupUuid,null===(u=e.blocks[n+1])||void 0===u?void 0:u.groupUuid].filter((function(e){return e})))),e.blocks.splice(n,1))})),Q.reverse().forEach((function(t,r){var i,u,a,c;(i=e.updateBlockGroupUuids).push.apply(i,(0,o.Z)([null===(u=e.blocks[$+r-1])||void 0===u?void 0:u.groupUuid,null===(a=e.blocks[$+r])||void 0===a?void 0:a.groupUuid,null===(c=e.blocks[$+r+1])||void 0===c?void 0:c.groupUuid].filter((function(e){return e})))),e.blocks.splice($+r,0,t),e=D(e,t.groupUuid,t.groupType),e=Z(e),e=N(e,t),e=A(e,t),e=M(e,t),e=P(e,n)})),void(e=_(e,n.type));case k.Us.CreateColumnList:var ee=n.data.indexesInColumns;e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[];var ne=(0,c.Z)(),te=[ne];return ee.forEach((function(n){var t=(0,c.Z)();n.forEach((function(n){var r=e.blocks[n];r&&(e.updateBlockGroupUuids.push(r.groupUuid),r.payload.columnListUuid&&te.push(r.payload.columnListUuid),r.payload=S(S({},r.payload),{},{columnListUuid:ne,columnUuid:t,columnRatio:0}))}))})),te.length>0&&(0,l.uniq)(te).forEach((function(n){e=I(e,n)})),e=_(e,n.type),void F(e,e.updateBlockGroupUuids);case k.Us.CreateColumn:var re=n.data,oe=re.indexesInColumn,ie=re.siblingIndex;if(0===oe.length)return;var ue=e.blocks[ie];if(!ue)return;e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[];var ae=[];ue.payload.columnListUuid&&ae.push(ue.payload.columnListUuid);var ce=new Map,le=(0,c.Z)();return oe.forEach((function(n){var t=e.blocks[n];if(t){e.updateBlockGroupUuids.push(t.groupUuid),t.payload.columnListUuid&&ae.push(t.payload.columnListUuid);var r,o=le;if(t.payload.columnUuid)o=null!==(r=ce.get(t.payload.columnUuid))&&void 0!==r?r:(0,c.Z)(),ce.set(t.payload.columnUuid,o);t.payload=S(S({},t.payload),{},{columnListUuid:ue.payload.columnListUuid,columnUuid:o,columnRatio:0})}})),ae.length>0&&(0,l.uniq)(ae).forEach((function(n){e=I(e,n)})),e=_(e,n.type),void F(e,e.updateBlockGroupUuids);case k.Us.AddToColumn:var de=n.data,se=de.indexesInColumn,pe=de.siblingIndex,fe=e.blocks[pe];if(!fe)return;e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[];var he=[];return fe.payload.columnListUuid&&he.push(fe.payload.columnListUuid),se.forEach((function(n){var t=e.blocks[n];t&&(e.updateBlockGroupUuids.push(t.groupUuid),t.payload.columnListUuid&&he.push(t.payload.columnListUuid),t.payload=S(S({},t.payload),{},{columnListUuid:fe.payload.columnListUuid,columnUuid:fe.payload.columnUuid,columnRatio:fe.payload.columnRatio}))})),he.length>0&&(0,l.uniq)(he).forEach((function(n){e=I(e,n)})),e=_(e,n.type),void F(e,e.updateBlockGroupUuids);case k.Us.DetachFromColumn:var ve=n.data.indexesInColumn;e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[];var ye=new Map,me=new Map,ge=[];ve.forEach((function(n){var t=e.blocks[n];if(t){var r=t.payload,i=r.columnListUuid,u=r.columnUuid;if(i){var a=ye.get(i);a?!1===a.includes(u)&&ye.set(i,[].concat((0,o.Z)(a),[u])):ye.set(i,[u])}}})),ye.forEach((function(n,t){var r=ve.map((function(n){return e.blocks[n].payload.columnListUuid})).filter((function(e){return e===t})).length,o=e.blocks.map((function(e){return e.payload.columnListUuid})).filter((function(e){return e===t})).length;me.set(t,r===o)}));var be=new Map;return ve.forEach((function(n){var t=e.blocks[n];if(t){var r="none";if(e.updateBlockGroupUuids.push(t.groupUuid),t.payload.columnListUuid){var o;ge.push(t.payload.columnListUuid);var i=null!==(o=me.get(t.payload.columnListUuid))&&void 0!==o&&o,u=ye.get(t.payload.columnListUuid);i||(r=u&&u.length>1?"create":"detach")}switch(r){case"detach":t.payload=S(S({},t.payload),{},{columnListUuid:void 0,columnUuid:void 0,columnRatio:void 0});break;case"create":var a=be.get(t.payload.columnListUuid);a||(a=(0,c.Z)(),be.set(t.payload.columnListUuid,a),ge.push(a));var l=be.get(t.payload.columnUuid);l||(l=(0,c.Z)(),be.set(t.payload.columnUuid,l)),t.payload=S(S({},t.payload),{},{columnListUuid:a,columnUuid:l,columnRatio:0})}}})),ge.length>0&&(0,l.uniq)(ge).forEach((function(n){e=I(e,n)})),e=_(e,n.type),void F(e,e.updateBlockGroupUuids);case k.Us.UpdateColumnRatio:var ke=n.data,xe=ke.index,Oe=ke.diff,Ue=e.blocks[xe];if(!Ue||!Ue.payload.columnListUuid)return;var we,Ce=e.blocks.filter((function(e){return e.payload.columnListUuid===Ue.payload.columnListUuid})),je=void 0,Se=0,Ee=w(Ce);try{for(Ee.s();!(we=Ee.n()).done;){var Be=we.value;if(Be.payload.columnUuid===Ue.payload.columnUuid)break;je=Be.payload.columnUuid,Se=Be.payload.columnRatio}}catch(yt){Ee.e(yt)}finally{Ee.f()}if(Se-Oe<m.A9&&Se-Oe<Se)return;if(Ue.payload.columnRatio+Oe<m.A9&&Ue.payload.columnRatio+Oe<Ue.payload.columnRatio)return;return e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[],Ce.forEach((function(n){n.payload.columnUuid===Ue.payload.columnUuid&&(n.payload=S(S({},n.payload),{},{columnRatio:n.payload.columnRatio+Oe}),e.updateBlockGroupUuids.push(n.groupUuid)),n.payload.columnUuid===je&&(n.payload=S(S({},n.payload),{},{columnRatio:n.payload.columnRatio-Oe}),e.updateBlockGroupUuids.push(n.groupUuid))})),e=I(e,Ue.payload.columnListUuid),void(e=_(e,n.type));case k.Us.UpdateValue:var Pe=n.data,De=Pe.index,Te=Pe.value,Ie=e.blocks[De];if(!Ie)return;return e.updateBlockGroupUuids=[Ie.groupUuid],Ie.value=Te,e=A(e,Ie),e=M(e,Ie),void(e=_(e,n.type));case k.Us.UpdatePayload:var Ze=n.data,Ae=Ze.index,Ne=Ze.payload,Me=e.blocks[Ae];if(!Me)return;return e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[Me.groupUuid],Me.payload=S(S({},Me.payload),Ne),e=D(e,Me.groupUuid,Me.groupType,Me.payload),"undefined"===typeof Ne.name&&"undefined"===typeof Ne.label&&"undefined"===typeof Ne.placeholder||(e=M(e,Me)),void(e=_(e,n.type));case k.Us.Refresh:var Le=n.data.index,Re=e.blocks[Le];if(!Re)return;return e.blocksUpdateUuid=(0,c.Z)(),void(e.updateBlockGroupUuids=[Re.groupUuid]);case k.Us.RefreshAll:return e.blocksUpdateUuid=(0,c.Z)(),void(e.updateBlockGroupUuids=e.blocks.map((function(e){return e.groupUuid})));case k.Us.UpdateFormSettings:var _e=n.data.payload;return e.settings=_e,e.blocksUpdateUuid=(0,c.Z)(),void(e.updateBlockGroupUuids=[]);case k.Us.InsertMention:var Fe,He=n.data.mention,Ge=e.blocks[0];return e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[Ge.groupUuid],Ge.payload.mentions=[].concat((0,o.Z)(null!==(Fe=Ge.payload.mentions)&&void 0!==Fe?Fe:[]),[He]),void(e=_(e,n.type));case k.Us.RemoveMention:var qe,Ve=n.data.uuid,Ke=e.blocks[0];return e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[Ke.groupUuid],Ke.payload.mentions=(0,o.Z)(null!==(qe=Ke.payload.mentions)&&void 0!==qe?qe:[]).filter((function(e){return e.uuid!==Ve})),document.querySelectorAll('[data-uuid="'.concat(Ve,'"]')).forEach((function(e){return e.remove()})),void(e=_(e,n.type));case k.Us.UpdateMention:var ze=n.data,We=ze.uuid,Ye=ze.payload,Xe=e.blocks[0];if(!Xe.payload.mentions)return;return Xe.payload.mentions=Xe.payload.mentions.map((function(n){return n.uuid===We?(e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[Xe.groupUuid],S(S({},n),Ye)):n})),void(e=_(e,n.type));case k.Us.UpdateConditionals:var Je,$e=n.data,Qe=$e.index,en=$e.conditionalUuid,nn=$e.modifyCallback,tn=e.blocks[Qe];if(!tn||null===(Je=tn.payload)||void 0===Je||!Je.conditionals)return;return e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[tn.groupUuid],tn.payload=L(tn.payload,en,nn),tn.payload.conditionals=R(tn.payload.conditionals),0===tn.payload.conditionals.length&&(e.blocks.splice(Qe,1),e=P(e,n)),void(e=_(e,n.type));case k.Us.UpdateConditionalActions:var rn,on=n.data,un=on.index,an=on.actionUuid,cn=on.modifyCallback,ln=e.blocks[un];if(!ln||null===(rn=ln.payload)||void 0===rn||!rn.actions)return;e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[ln.groupUuid];var dn,sn=-1,pn=w(ln.payload.actions);try{for(pn.s();!(dn=pn.n()).done;){var fn=dn.value;if(sn++,fn.uuid===an){cn({blockPayload:ln.payload,action:fn,index:sn});break}}}catch(yt){pn.e(yt)}finally{pn.f()}return void(e=_(e,n.type));case k.Us.UpdateCalculatedFields:var hn,vn=n.data,yn=vn.index,mn=vn.fieldUuid,gn=vn.modifyCallback,bn=e.blocks[yn];if(!bn||null===(hn=bn.payload)||void 0===hn||!hn.calculatedFields)return;return e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[bn.groupUuid],bn.payload=function(e,n,t){var r,o=-1,i=w(e.calculatedFields);try{for(i.s();!(r=i.n()).done;){var u=r.value;if(o++,u.uuid===n){t({payload:e,calculatedField:u,index:o});break}}}catch(yt){i.e(yt)}finally{i.f()}return e}(bn.payload,mn,gn),0===bn.payload.calculatedFields.length&&(e.blocks.splice(yn,1),e=P(e,n)),e=M(e,bn),e=A(e,bn),void(e=_(e,n.type));case k.Us.UpdateHiddenFields:var kn,xn=n.data,On=xn.index,Un=xn.fieldUuid,wn=xn.modifyCallback,Cn=e.blocks[On];if(!Cn||null===(kn=Cn.payload)||void 0===kn||!kn.hiddenFields)return;return e.blocksUpdateUuid=(0,c.Z)(),e.updateBlockGroupUuids=[Cn.groupUuid],Cn.payload=function(e,n,t){var r,o=-1,i=w(e.hiddenFields);try{for(i.s();!(r=i.n()).done;){var u=r.value;if(o++,u.uuid===n){t({payload:e,hiddenField:u,index:o});break}}}catch(yt){i.e(yt)}finally{i.f()}return e}(Cn.payload,Un,wn),0===Cn.payload.hiddenFields.length&&(e.blocks.splice(On,1),e=P(e,n)),e=M(e,Cn),e=A(e,Cn),void(e=_(e,n.type));case k.Us.OpenInsertBlockMenu:var jn=n.data,Sn=jn.isOpen,En=jn.atBlockUuid,Bn=jn.sections;return void(e.insertBlockMenu={isOpen:Sn,atBlockUuid:En,sections:Bn});case k.Us.OpenBlockSettingsContextMenu:var Pn=n.data,Dn=Pn.isOpen,Tn=Pn.atBlockUuid;return void(e.blockSettingsContextMenu={isOpen:Dn,atBlockUuid:Tn});case k.Us.OpenBlockActionsContextMenu:var In=n.data,Zn=In.isOpen,An=In.atBlockUuid;return void(e.blockActionsContextMenu={isOpen:Zn,atBlockUuid:An});case k.Us.OpenTextFormatContextMenu:var Nn=n.data.isOpen;return void(e.textFormatContextMenu={isOpen:Nn});case k.Us.OpenAuthMenu:var Mn=n.data,Ln=Mn.isOpen,Rn=Mn.trigger;return void(e.authMenu={isOpen:Ln,trigger:Rn});case k.Us.OpenTallyProMenu:var _n=n.data,Fn=_n.isOpen,Hn=_n.trigger;return void(e.tallyProMenu={isOpen:Fn,trigger:Hn});case k.Us.OpenMentionMenu:var Gn=n.data,qn=Gn.isOpen,Vn=Gn.atBlockUuid;return void(e.mentionMenu={isOpen:qn,atBlockUuid:Vn});case k.Us.OpenMentionSettingsMenu:var Kn=n.data,zn=Kn.isOpen,Wn=Kn.uuid,Yn=Kn.position;return void(e.mentionSettingsMenu={isOpen:zn,uuid:Wn,position:Yn});case k.Us.OpenCommandsMenu:var Xn=n.data,Jn=Xn.isOpen,$n=Xn.atBlockUuid;return void(e.commandsMenu={isOpen:Jn,atBlockUuid:$n});case k.Us.OpenBulkInsertOptionsMenu:var Qn=n.data,et=Qn.isOpen,nt=Qn.atBlockUuid;return void(e.bulkInsertOptionsMenu={isOpen:et,atBlockUuid:nt});case k.Us.Undo:if(0===e.versionHistory.length||e.versionHistoryIndex<=0)return;var tt=e.versionHistory[e.versionHistoryIndex].updateBlockGroupUuids;e.versionHistoryIndex--;var rt=e.versionHistory[e.versionHistoryIndex],ot=rt.blocks,it=rt.updateBlockGroupUuids,ut=rt.cursor;if(!ot)return;e.blocks=ot,e.blocksUpdateUuid=(0,c.Z)();var at=[].concat((0,o.Z)(tt),(0,o.Z)(it));e.updateBlockGroupUuids=at;var ct=(0,s.pB)(ot);return void ct.forEach((function(e,n){var t=n===ct.length-1;e.ref=(0,p.bc)(e.value,{cursor:t?S({},ut):void 0})}));case k.Us.Redo:if(0===e.versionHistory.length||e.versionHistoryIndex===e.versionHistory.length-1)return;var lt=e.versionHistory[e.versionHistoryIndex].updateBlockGroupUuids;e.versionHistoryIndex++;var dt=e.versionHistory[e.versionHistoryIndex],st=dt.blocks,pt=dt.updateBlockGroupUuids,ft=dt.cursor;if(!st)return;e.blocks=st,e.blocksUpdateUuid=(0,c.Z)();var ht=[].concat((0,o.Z)(lt),(0,o.Z)(pt));e.updateBlockGroupUuids=ht;var vt=(0,s.pB)(st);return void vt.forEach((function(e,n){var t=n===vt.length-1;e.ref=(0,p.bc)(e.value,{cursor:t?S({},ft):void 0})}))}},G=(0,u.ZP)((function(e,n){H(e,n),E=n})),q="FORM-BUILDER",V=function(e){return S(S({},e),{},{blocks:(0,y.FW)(e.blocks),version:1})},K=function(e){var n;return{blocks:(0,y.RD)(null!==(n=null===e||void 0===e?void 0:e.blocks)&&void 0!==n?n:[])}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=(0,x.R)(q,G,B,{disablePersist:!n,getInitialState:e,transformBeforeSet:V,transformAfterGet:K}),o=(0,r.Z)(t,2),i=o[0],u=o[1];return[i,u]},W=(0,a.createContext)({current:B()}),Y=(0,a.createContext)((function(){}))},97755:function(e,n,t){var r;t.d(n,{o:function(){return r}}),function(e){e.Number="NUMBER",e.Text="TEXT"}(r||(r={}))},81897:function(e,n,t){var r;t.d(n,{M:function(){return o},f:function(){return r}}),function(e){e.Metadata="METADATA",e.InputField="INPUT_FIELD",e.HiddenField="HIDDEN_FIELD",e.CalculatedField="CALCULATED_FIELD"}(r||(r={}));var o=function(e){return Object.values(r).includes(null===e||void 0===e?void 0:e.type)}},97987:function(e,n,t){var r;t.d(n,{Y:function(){return r}}),function(e){e.Block="BLOCK",e.ColumnList="COLUMN_LIST",e.Column="COLUMN"}(r||(r={}))},62301:function(e,n,t){var r,o,i;t.d(n,{PX:function(){return r},W5:function(){return i},d2:function(){return o}}),function(e){e.Blank="BLANK",e.Draft="DRAFT",e.Published="PUBLISHED",e.Deleted="DELETED"}(r||(r={})),function(e){e.Required="REQUIRED",e.PaymentRequired="PAYMENT_REQUIRED",e.ShouldBeValidFormat="SHOULD_BE_VALID_FORMAT",e.ShouldBeEmail="SHOULD_BE_EMAIL",e.ShouldBeURL="SHOULD_BE_URL",e.ShouldBeChecked="SHOULD_BE_CHECKED",e.ShouldBeDomainHost="SHOULD_BE_DOMAIN_HOST",e.ShouldBeMinChars="SHOULD_BE_MIN_CHARS",e.ShouldBeMaxChars="SHOULD_BE_MAX_CHARS",e.ShouldBeMinNumber="SHOULD_BE_MIN_NUMBER",e.ShouldBeMaxNumber="SHOULD_BE_MAX_NUMBER",e.ShouldBeBetweenNumbers="SHOULD_BE_BETWEEN_NUMBERS",e.ShouldMatchPassword="SHOULD_MATCH_PASSWORD",e.ShouldBeBeforeDate="SHOULD_BE_BEFORE_DATE",e.ShouldBeAfterDate="SHOULD_BE_AFTER_DATE",e.ShouldBeBetweenDates="SHOULD_BE_BETWEEN_DATES",e.ShouldBeOneOfSpecificDates="SHOULD_BE_ONE_OF_SPECIFIC_DATES",e.ShouldHaveMinArrayLength="SHOULD_HAVE_MIN_ARRAY_LENGTH",e.ShouldHaveMaxArrayLength="SHOULD_HAVE_MAX_ARRAY_LENGTH",e.ShouldSolveCaptcha="SHOULD_SOLVE_CAPTCHA"}(o||(o={})),function(e){e.Summary="summary",e.Responses="responses",e.Submissions="submissions",e.Share="share",e.Integrations="integrations",e.Settings="settings"}(i||(i={}))},7603:function(e,n,t){var r,o,i,u,a;t.d(n,{Fn:function(){return r},LN:function(){return o},Us:function(){return a},mO:function(){return i},yR:function(){return u}}),function(e){e.And="AND",e.Or="OR"}(r||(r={})),function(e){e.Addition="ADDITION",e.Subtraction="SUBTRACTION",e.Multiplication="MULTIPLICATION",e.Division="DIVISION",e.Assignment="ASSIGNMENT"}(o||(o={})),function(e){e.Is="IS",e.IsNot="IS_NOT",e.Contains="CONTAINS",e.DoesNotContain="DOES_NOT_CONTAIN",e.StartsWith="STARTS_WITH",e.EndsWith="ENDS_WITH",e.IsEmpty="IS_EMPTY",e.IsNotEmpty="IS_NOT_EMPTY",e.Equal="EQUAL",e.NotEqual="NOT_EQUAL",e.GreaterThan="GREATER_THAN",e.LessThan="LESS_THAN",e.GreaterOrEqualThan="GREATER_OR_EQUAL_THAN",e.LessOrEqualThan="LESS_OR_EQUAL_THAN",e.IsBefore="IS_BEFORE",e.IsAfter="IS_AFTER"}(i||(i={})),function(e){e.Single="SINGLE",e.Group="GROUP"}(u||(u={})),function(e){e.JumpToPage="JUMP_TO_PAGE",e.Calculate="CALCULATE",e.RequireAnswer="REQUIRE_ANSWER",e.ShowBlocks="SHOW_BLOCKS",e.HideBlocks="HIDE_BLOCKS"}(a||(a={}))},63911:function(e,n,t){var r;t.d(n,{F:function(){return r}}),function(e){e.AED="AED",e.AUD="AUD",e.BGN="BGN",e.BRL="BRL",e.CAD="CAD",e.CHF="CHF",e.CNY="CNY",e.CZK="CZK",e.DKK="DKK",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.HRK="HRK",e.HUF="HUF",e.IDR="IDR",e.ILS="ILS",e.INR="INR",e.ISK="ISK",e.JPY="JPY",e.KRW="KRW",e.MAD="MAD",e.MXN="MXN",e.MYR="MYR",e.NOK="NOK",e.NZD="NZD",e.PHP="PHP",e.PLN="PLN",e.RON="RON",e.RSD="RSD",e.RUB="RUB",e.SAR="SAR",e.SEK="SEK",e.SGD="SGD",e.THB="THB",e.TWD="TWD",e.UAH="UAH",e.USD="USD",e.VND="VND",e.ZAR="ZAR"}(r||(r={}))},38689:function(e,n,t){var r;t.d(n,{L:function(){return r}}),function(e){e.Default="DEFAULT",e.Settings="SETTINGS",e.Members="MEMBERS",e.Workspaces="WORKSPACES",e.RemoveBranding="REMOVE_BRANDING",e.NoApplicationFee="NO_APPLICATION_FEE",e.UnlimitedUploads="UNLIMITED_UPLOADS",e.CustomDomains="CUSTOM_DOMAINS",e.CustomSelfEmailNotifications="CUSTOM_SELF_EMAIL_NOTIFICATIONS",e.RespondentEmailNotifications="RESPONDENT_EMAIL_NOTIFICATIONS",e.PartialSubmissions="PARTIAL_SUBMISSIONS",e.IntegrationGoogleAnalytics="INTEGRATION_GOOGLE_ANALYTICS",e.IntegrationFacebookPixel="INTEGRATION_FACEBOOK_PIXEL"}(r||(r={}))},77770:function(e,n,t){t.d(n,{Cr:function(){return S},FW:function(){return b},PV:function(){return U},RD:function(){return k},UU:function(){return x},Z9:function(){return w},bl:function(){return j},jZ:function(){return C},x8:function(){return O},xo:function(){return E}});var r=t(59499),o=t(27812),i=t(96486),u=t(50659),a=t(11038),c=t(3347),l=t(77920),d=t(3918),s=t(21777),p=t(60661),f=t(32900),h=t(35726),v=t(62301),y=t(97987);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b=function(e){if(!e)return[];var n=[],t=[];return(0,o.Z)(e).forEach((function(e){var r=e.uuid,o=e.type,u=e.value,a=g({},(0,i.omit)(e,["value","ref"]));switch(a.payload=g({},a.payload),o){case h.k.FormTitle:case h.k.Title:case h.k.Heading1:case h.k.Heading2:case h.k.Heading3:case h.k.Label:case h.k.Text:a.payload.safeHTMLSchema=[];var l=(0,c.Tp)(r);l&&(a.payload.safeHTMLSchema=(0,p.nf)(l.childNodes),o===h.k.FormTitle&&(a.payload.title=l.textContent));break;case h.k.MultipleChoiceOption:case h.k.DropdownOption:case h.k.Checkbox:a.payload.text=(0,d.Vt)((0,d.CL)(u)),a.payload.placeholder&&(a.payload.placeholder=(0,d.Vt)((0,d.CL)(a.payload.placeholder)));break;case h.k.InputText:case h.k.InputNumber:case h.k.InputEmail:case h.k.InputLink:case h.k.InputPhoneNumber:case h.k.InputDate:case h.k.InputTime:case h.k.Textarea:a.payload.placeholder=(0,d.Vt)((0,d.CL)(u))}!1===n.includes(e.uuid)&&(n.push(e.uuid),t.push(a))})),t},k=function(e){return(0,o.Z)(e).map((function(e){var n=g({},e);switch(n.payload=g({},n.payload),e.type){case h.k.FormTitle:case h.k.Title:case h.k.Heading1:case h.k.Heading2:case h.k.Heading3:case h.k.Label:case h.k.Text:n.value=(0,p.Du)(n.payload.safeHTMLSchema),delete n.payload.safeHTMLSchema,delete n.payload.title;break;case h.k.MultipleChoiceOption:case h.k.DropdownOption:case h.k.Checkbox:n.value=n.payload.text,delete n.payload.text;break;case h.k.InputText:case h.k.InputNumber:case h.k.InputEmail:case h.k.InputLink:case h.k.InputPhoneNumber:case h.k.InputDate:case h.k.InputTime:case h.k.Textarea:n.value=n.payload.placeholder,delete n.payload.placeholder;break;default:"undefined"===typeof n.value&&(n.value="")}return n}))},x=function(e){var n=[],t=[];return e.forEach((function(r){var o=r.type,i=r.groupUuid,a=r.groupType;if(u.$v.includes(o))t.push(i),n.push(g(g({},r),{},{payload:g(g({},r.payload),{},{html:(0,p.Du)(r.payload.safeHTMLSchema,!0)})}));else if(a===h.k.Dropdown)!1===t.includes(i)&&(t.push(i),n.push(g(g({},r),{},{uuid:r.groupUuid,type:r.groupType,payload:g(g({},r.payload),{},{placeholder:r.payload.placeholder?(0,d.CL)(r.payload.placeholder):null,options:e.filter((function(e){return e.groupUuid===i})).map((function(e){var n;return{value:e.uuid,text:e.payload.text?(0,d.CL)(e.payload.text):"",image:null!==(n=e.payload.image)&&void 0!==n?n:null}}))})})));else if([h.k.MultipleChoice,h.k.Checkboxes].includes(a)){var c;null!==r&&void 0!==r&&null!==(c=r.payload)&&void 0!==c&&c.text&&(r.payload.text=(0,d.CL)(r.payload.text)),t.push(i),n.push(r)}else{var l;null!==r&&void 0!==r&&null!==(l=r.payload)&&void 0!==l&&l.placeholder&&(r.payload.placeholder=(0,d.CL)(r.payload.placeholder)),t.push(i),n.push(r)}})),n},O=function(e){var n=[],t=[];return e.forEach((function(e){e.type!==h.k.PageBreak?t.push(e):(n.push(t),t=[])})),t.length>0&&n.push(t),n},U=function(e){if(!e)return{};var n=[],t={};return e.forEach((function(e){var r=e.type,o=e.groupUuid,i=e.payload;if(!n.includes(o)){var u,a,c=[];if(i.isRequired&&(r===h.k.Payment?c.push([v.d2.PaymentRequired]):c.push([v.d2.Required])),r===h.k.InputLink&&c.push([v.d2.ShouldBeURL]),r===h.k.InputEmail&&c.push([v.d2.ShouldBeEmail]),r===h.k.InputNumber&&(i.hasMinNumber&&c.push([v.d2.ShouldBeMinNumber,i.minNumber]),i.hasMaxNumber&&c.push([v.d2.ShouldBeMaxNumber,i.maxNumber])),r===h.k.InputDate)i.hasBeforeDate&&i.beforeDate&&c.push([v.d2.ShouldBeBeforeDate,i.beforeDate]),i.hasAfterDate&&i.afterDate&&c.push([v.d2.ShouldBeAfterDate,i.afterDate]),i.hasDateRange&&null!==(u=i.dateRange)&&void 0!==u&&u.from&&null!==(a=i.dateRange)&&void 0!==a&&a.to&&c.push([v.d2.ShouldBeBetweenDates,[i.dateRange.from,i.dateRange.to]]),i.hasSpecificDates&&i.specificDates&&c.push([v.d2.ShouldBeOneOfSpecificDates,i.specificDates]);r===h.k.Textarea&&(i.hasMinCharacters&&c.push([v.d2.ShouldBeMinChars,i.minCharacters]),i.hasMaxCharacters&&c.push([v.d2.ShouldBeMaxChars,i.maxCharacters])),r===h.k.Checkbox&&(i.hasMinChoices&&c.push([v.d2.ShouldHaveMinArrayLength,i.minChoices]),i.hasMaxChoices&&c.push([v.d2.ShouldHaveMaxArrayLength,i.maxChoices])),r===h.k.FileUpload&&(i.hasMinFiles&&c.push([v.d2.ShouldHaveMinArrayLength,i.minFiles]),i.hasMaxFiles&&c.push([v.d2.ShouldHaveMaxArrayLength,i.maxFiles])),r===h.k.Captcha&&c.push([v.d2.ShouldSolveCaptcha]),c.length>0&&(t[o]=c),n.push(o)}})),t},w=function(e,n){var t;if(!1===u.z8.includes(e.type))return null;var r=e.uuid,o=e.type,i=e.groupUuid,c=e.payload,l=(0,h.Z)(e)?e.value:void 0,s=null!==(t=u.fy[o])&&void 0!==t?t:o,p=null,f=null,v=null,y=null;if(!1===u.Ko.includes(o)){if(u.we.includes(o)&&(l||c.placeholder)?(v=(0,d.Vt)(null!==l&&void 0!==l?l:c.placeholder),y=r):o===h.k.Signature&&c.label?(v=(0,d.Vt)(c.label),y=r):o===h.k.DropdownOption&&c.placeholder&&(v=(0,d.Vt)(c.placeholder),y=r),null===p){var m=(0,a.QK)(n.findIndex((function(e){return e.uuid===r})),i,n);p=m.title,f=m.titleBlockUuid}null===p&&null!==v&&(p=v,f=y)}return{type:s,blockGroupUuid:i,title:p||u.d4[s],titleBlockUuid:f,isRequired:c.isRequired,isRequiredBlockUuid:r,isRequiredGroupBlockUuid:i}},C=function(e){var n=[],t=new Map;return e.filter((function(e){var n=e.type;return u.z8.includes(n)})).forEach((function(r){n.includes(r.groupUuid)||(t.set(r.groupUuid,w(r,e)),n.push(r.groupUuid))})),t},j=function(e){var n=new Map,t=new Map;return e.filter((function(e){var n=e.type;return u.z8.includes(n)})).forEach((function(r){var o=n.get(r.groupUuid);if(o)t.set(r.uuid,o);else{var i=w(r,e);i.titleBlockUuid&&t.set(i.titleBlockUuid,i),t.set(r.uuid,i),n.set(r.groupUuid,i)}})),t},S=function(e,n){var t=e.filter((function(e){return![h.k.FormTitle].concat((0,o.Z)(u.H6)).includes(e.type)&&!(e.type===h.k.Text&&""===e.value.trim())})),r=[];return O(t).forEach((function(t,o){var i=o+1,u=[];t.forEach((function(e){var t=e.uuid,r=e.type,o=e.value;u.push({value:t,text:o?(0,d.CL)((0,d.Vt)(o)):n("block.title.".concat(r)),icon:(0,l.m0)(r)})}));var a=(0,s.O2)(i,e),c="".concat(n("label.page")," ").concat(i);null!==a&&void 0!==a&&a.payload.name&&(c="".concat(a.payload.name," #").concat(i)),null!==a&&void 0!==a&&a.payload.isThankYouPage&&(c="".concat(c," (").concat(n("label.thank-you-page"),")")),r.push({options:u,label:c})})),r},E=function(e){var n=[],t=[],r=[];return e.forEach((function(o,i){if(o.payload.columnListUuid){if(!t.includes(o.payload.columnListUuid)){t.push(o.payload.columnListUuid);var u=e.filter((function(e){return e.payload.columnListUuid===o.payload.columnListUuid})),a={uuid:o.payload.columnListUuid,type:y.Y.ColumnList,columns:[]};u.forEach((function(e,n){if(!r.includes(e.payload.columnUuid)){r.push(e.payload.columnUuid);var t={uuid:e.payload.columnUuid,type:y.Y.Column,ratio:e.payload.columnRatio,blocks:[]};t.blocks=u.filter((function(e){return e.payload.columnUuid===t.uuid})).map((function(e,t){return{uuid:e.uuid,type:y.Y.Block,block:e,index:i+n+t}})),t.firstBlock=t.blocks[0],t.lastBlock=t.blocks[t.blocks.length-1],a.columns.push(t)}})),(0,f.Vl)(a.columns.map((function(e){return e.ratio})))&&(a.columns=a.columns.map((function(e){return g(g({},e),{},{flex:1})}))),a.firstColumn=a.columns[0],a.lastColumn=a.columns[a.columns.length-1],n.push(a)}}else n.push({uuid:o.uuid,type:y.Y.Block,block:o,index:i})})),n}},78344:function(e,n,t){t.d(n,{$V:function(){return l},Bx:function(){return p},T4:function(){return s},mS:function(){return d},qr:function(){return f},xq:function(){return c},yX:function(){return u}});var r=t(44431),o=t(63911),i=t(48277),u=function(e){switch(e){case o.F.BRL:return"R$ ";case o.F.EUR:return"\u20ac";case o.F.GBP:return"\xa3";case o.F.HKD:return"HK$ ";case o.F.ILS:return"\u20aa ";case o.F.INR:return"\u20b9 ";case o.F.KRW:return"\u20a9 ";case o.F.MYR:return"RM ";case o.F.PHP:return"\u20b1 ";case o.F.TWD:return"\u5143 ";case o.F.USD:return"$"}return null},a=function(e){switch(e){case o.F.AED:case o.F.AUD:case o.F.BGN:case o.F.CAD:case o.F.CHF:case o.F.CNY:case o.F.DKK:case o.F.HRK:case o.F.IDR:case o.F.ISK:case o.F.JPY:case o.F.MXN:case o.F.NOK:case o.F.NZD:case o.F.RON:case o.F.RSD:case o.F.SEK:case o.F.SGD:case o.F.THB:case o.F.UAH:case o.F.ZAR:return" ".concat(e);case o.F.CZK:return" K\u010d";case o.F.HUF:return" Ft";case o.F.MAD:return" .\u062f.\u0645.";case o.F.PLN:return" z\u0142";case o.F.RUB:return" p.";case o.F.SAR:return" \ufdfc";case o.F.VND:return" \u20ab"}return null},c=function(e,n){return e?[o.F.JPY,o.F.KRW,o.F.VND].includes(n)?parseFloat(e):new r.BigNumber(e).times(100).toNumber():0},l=function(e,n){var t=0;return t=[o.F.JPY,o.F.KRW,o.F.VND].includes(n)?Number(e):Number(e/100),(0,i.A)(t)},d=function(e,n){return{value:l(e,n),currency:{value:n,prefix:u(n),suffix:a(n)}}},s=function(e,n){var t=u(n),r=a(n);return"".concat(null!==t&&void 0!==t?t:"").concat(e).concat(null!==r&&void 0!==r?r:"")},p=function(e,n){var t,r,o=d(e,n);return"".concat(null!==(t=o.currency.prefix)&&void 0!==t?t:"").concat(o.value).concat(null!==(r=o.currency.suffix)&&void 0!==r?r:"")},f=function(e,n){var t=l(e,n);return c(t,n)}},11344:function(e,n,t){t.d(n,{_:function(){return r}});var r=function(e){return new Promise((function(n){return setTimeout(n,e)}))}},23593:function(e,n,t){t.d(n,{Ih:function(){return v},RR:function(){return m},hz:function(){return y},yt:function(){return g}});var r=t(59499),o=t(27812),i=t(8773),u=t(96486),a=t(50659),c=t(63911),l=t(35726),d=t(7603),s=t(44825),p=t(29458);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={ref:void 0,value:"",uuid:(0,i.Z)(),type:l.k.Text,groupUuid:(0,i.Z)(),groupType:l.k.Text,payload:{}};return!e.payload&&e.type&&a.Ig.includes(e.type)&&(n.payload={isRequired:!0}),!e.payload&&e.type&&e.groupType&&(0,o.Z)(a.FW).includes(e.groupType)&&(n.payload={isRequired:!0,index:0}),!e.payload&&e.type&&e.type===l.k.PageBreak&&(n.payload={index:0}),!e.payload&&e.type&&e.type===l.k.LinearScale&&(n.payload={isRequired:!0,start:0,end:10,step:1}),!e.payload&&e.type&&e.type===l.k.Rating&&(n.payload={isRequired:!0,stars:5}),!e.payload&&e.type&&e.type===l.k.Payment&&(n.payload={isRequired:!0,isConfigured:!1,currency:c.F.USD}),!e.payload&&e.type&&e.type===l.k.ConditionalLogic&&(n.payload={updateUuid:null,logicalOperator:d.Fn.And,conditionals:[(0,s.BM)()],actions:[(0,s.GE)()]}),!e.payload&&e.type&&e.type===l.k.CalculatedFields&&(n.payload={calculatedFields:[(0,p.In)()]}),!e.payload&&e.type&&e.type===l.k.HiddenFields&&(n.payload={hiddenFields:[(0,p.WW)()]}),h(h({},n),e)},y=function e(n){var t=[];if(Array.isArray(n))return n.forEach((function(n){t.push.apply(t,(0,o.Z)(e(n)))})),t;var r=n,u={};if(r===l.k.ThankYouPage&&(r=l.k.PageBreak,u={isThankYouPage:!0}),!a.iV[r])return[{type:r,groupType:r}];var c=(0,i.Z)(),d={};return r===l.k.PageBreak?d={index:0}:(0,o.Z)(a.FW).includes(r)&&(d={index:0,isRequired:!0}),a.iV[r].forEach((function(e){var n={};a.FW.includes(r)&&(n=h(h(h({},n),d),{},{isFirst:0===d.index,isLast:d.index===a.iV[r].length-1},u),d.index++),e===l.k.PageBreak&&(n=h(h(h({},n),d),{},{isFirst:!0,isLast:!0,isQualifiedForThankYouPage:!1,isThankYouPage:!1},u)),t.push({type:e,groupType:r,groupUuid:c,payload:n})})),t},m=function(e,n){return{type:a.iV[n][0],groupType:n,groupUuid:e,payload:{index:0}}},g=function(e,n){var t=new Map;return e.map((function(e,r){var o="",c=t.get(e.groupUuid),d=h({},e.payload);if(o=0===r&&(null===n||void 0===n?void 0:n.groupType)===e.groupType&&a.FW.includes(e.groupType)?n.groupUuid:c||(0,i.Z)(),t.set(e.groupUuid,o),d.columnListUuid){var s=t.get(d.columnListUuid),p=d.columnListUuid;p=0===r&&(null===n||void 0===n?void 0:n.payload.columnListUuid)===d.columnListUuid?null===n||void 0===n?void 0:n.payload.columnListUuid:s||(0,i.Z)(),t.set(d.columnListUuid,p),d.columnListUuid=p;var f=t.get(d.columnUuid),v=d.columnUuid;v=0===r&&(null===n||void 0===n?void 0:n.payload.columnUuid)===d.columnUuid?null===n||void 0===n?void 0:n.payload.columnUuid:f||(0,i.Z)(),t.set(d.columnUuid,v),d.columnUuid=v}return e.type===l.k.CalculatedFields&&(d.calculatedFields=d.calculatedFields.map((function(e){return h(h({},e),{},{uuid:(0,i.Z)()})}))),e.type===l.k.HiddenFields&&(d.hiddenFields=d.hiddenFields.map((function(e){return h(h({},e),{},{uuid:(0,i.Z)()})}))),h({uuid:(0,i.Z)(),groupUuid:o,ref:void 0,payload:d},(0,u.omit)(e,["uuid","groupUuid","ref","payload"]))}))}},32900:function(e,n,t){t.d(n,{A9:function(){return u},Cz:function(){return c},NP:function(){return a},Vl:function(){return l}});var r=t(16835),o=t(27812),i=100,u=10,a=7,c=function(e){var n=new Map(e),t=n.size,a=0,c=0;if(n.forEach((function(e){a+=e,c+=0===e?1:0})),c>0){var l=Math.round(i/t),d=l*c,s=t-c;(0,o.Z)(n).sort((function(e,n){return e[1]-n[1]})).forEach((function(e){var t=(0,r.Z)(e,2),o=t[0],i=t[1];if(0===i)n.set(o,l),a+=l;else{var c=Math.round(d/s),p=Math.round(i-c);p>=u?(n.set(o,p),a-=c,d-=c):(n.set(o,u),a-=i-u,d-=i-u),s--}}))}if(a<i){var p=Math.round((i-a)/t);n.forEach((function(e,t){n.set(t,e+p),a+=p}))}if(a!==i){var f=i-a;(0,o.Z)(n).sort((function(e,n){return f>0?e[1]-n[1]:n[1]-e[1]})).forEach((function(e){var t=(0,r.Z)(e,2),o=t[0],i=t[1];if(0!==f){var u=f>0?1:-1;n.set(o,i+u),a+=u,f-=u}}))}return n},l=function(e){var n=e.length,t=i/n;return e.every((function(e){return Math.abs(e-t)<=1}))}},29458:function(e,n,t){t.d(n,{In:function(){return f},VN:function(){return h},WW:function(){return p},cO:function(){return m},dV:function(){return y},m8:function(){return v}});var r=t(8773),o=t(35726),i=t(81897),u=t(7603),a=t(77770),c=t(11038),l=t(3918);function d(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var p=function(){return{uuid:(0,r.Z)()}},f=function(){return{uuid:(0,r.Z)()}},h=function(e,n){var t=[],r=[];return null!==n&&void 0!==n&&n.beforeBlockUuid&&(e=(0,c.sw)(e,n.beforeBlockUuid,null===n||void 0===n?void 0:n.alwaysIncludeBlockTypes)),null!==n&&void 0!==n&&n.filterOutBlockTypes&&n.filterOutBlockTypes.length>0&&(e=e.filter((function(e){var t=e.type;return!1===n.filterOutBlockTypes.includes(t)}))),null!==n&&void 0!==n&&n.includeMetadata&&(t.push({uuid:"id",type:i.f.Metadata,questionType:o.k.FormTitle,blockGroupUuid:"id",title:"id"}),t.push({uuid:"respondentId",type:i.f.Metadata,questionType:o.k.FormTitle,blockGroupUuid:"respondentId",title:"respondentId"}),t.push({uuid:"formName",type:i.f.Metadata,questionType:o.k.FormTitle,blockGroupUuid:"formName",title:"formName"})),e.forEach((function(n){if(!r.includes(n.groupUuid)){if(n.type===o.k.CalculatedFields)n.payload.calculatedFields.filter((function(e){return e.name&&e.type})).forEach((function(e){t.push({uuid:e.uuid,type:i.f.CalculatedField,questionType:o.k.CalculatedFields,blockGroupUuid:n.groupUuid,title:e.name||"",calculatedFieldType:e.type})}));else if(n.type===o.k.HiddenFields)n.payload.hiddenFields.forEach((function(e){t.push({uuid:e.uuid,type:i.f.HiddenField,questionType:o.k.HiddenFields,blockGroupUuid:n.groupUuid,title:e.name||""})}));else{var u=(0,a.Z9)(n,e);u&&t.push({uuid:u.blockGroupUuid,type:i.f.InputField,questionType:u.type,blockGroupUuid:u.blockGroupUuid,title:(0,l.CL)(u.title||"")})}r.push(n.groupUuid)}})),t},v=function(e,n){var t=e.title;return e.type===i.f.Metadata&&(t=n("form-builder.mention-menu.metadata.".concat(e.uuid))),t},y=function e(n,t,r){var i,a,c,l=!1,s=d(null!==(i=n.conditionals)&&void 0!==i?i:[]);try{for(s.s();!(c=s.n()).done;){var p,f,h,v,y,m=c.value;if(null!==(p=m.payload)&&void 0!==p&&null!==(f=p.field)&&void 0!==f&&f.blockGroupUuid&&r.includes(m.payload.field.blockGroupUuid)||null!==(h=m.payload)&&void 0!==h&&null!==(v=h.value)&&void 0!==v&&v.blockGroupUuid&&r.includes(m.payload.value.blockGroupUuid))return!0;if(m.type===u.yR.Group&&null!==(y=m.payload)&&void 0!==y&&y.conditionals&&(l=e(m.payload,t,r)))return!0}}catch(T){s.e(T)}finally{s.f()}var g,b=d(null!==(a=n.actions)&&void 0!==a?a:[]);try{for(b.s();!(g=b.n()).done;){var k,x,O,U,w,C,j,S,E,B,P,D=g.value;if(null!==(k=D.payload)&&void 0!==k&&k.requireAnswer&&r.includes(D.payload.requireAnswer))return!0;if(null!==(x=D.payload)&&void 0!==x&&null!==(O=x.calculate)&&void 0!==O&&null!==(U=O.field)&&void 0!==U&&U.blockGroupUuid&&r.includes(D.payload.calculate.field.blockGroupUuid))return!0;if(null!==(w=D.payload)&&void 0!==w&&null!==(C=w.calculate)&&void 0!==C&&null!==(j=C.value)&&void 0!==j&&j.blockGroupUuid&&r.includes(D.payload.calculate.value.blockGroupUuid))return!0;if(null!==(S=D.payload)&&void 0!==S&&S.showBlocks&&D.payload.showBlocks.some((function(e){return e===t.uuid})))return!0;if(null!==(E=D.payload)&&void 0!==E&&E.hideBlocks&&D.payload.hideBlocks.some((function(e){return e===t.uuid})))return!0;if((null===(B=D.payload)||void 0===B?void 0:B.jumpToPage)===t.uuid||null!==(P=D.payload)&&void 0!==P&&P.jumpToPage&&t.type===o.k.PageBreak)return!0}}catch(T){b.e(T)}finally{b.f()}return l},m=function(e,n){var t,r=d(e.calculatedFields);try{for(r.s();!(t=r.n()).done;){var o,i=t.value;if(null!==(o=i.value)&&void 0!==o&&o.blockGroupUuid&&n.includes(i.value.blockGroupUuid))return!0}}catch(u){r.e(u)}finally{r.f()}return!1}},11038:function(e,n,t){t.d(n,{Pj:function(){return x},Pu:function(){return b},QK:function(){return j},Sw:function(){return C},Xd:function(){return O},_L:function(){return S},kh:function(){return g},pB:function(){return w},pz:function(){return B},sw:function(){return U},te:function(){return k}});var r=t(50029),o=t(87794),i=t.n(o),u=t(35726),a=t(62301),c=t(81897),l=t(50659),d=t(3918),s=t(11344),p=t(77920),f=t(77770),h=t(19994);function v(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var m=null,g=function(){var e=(0,r.Z)(i().mark((function e(n,t,r,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m!==t){e.next=2;break}return e.abrupt("return");case 2:if(m!==a.PX.Published||t!==a.PX.Draft){e.next=4;break}return e.abrupt("return");case 4:if(m!==a.PX.Draft||t!==a.PX.Published){e.next=7;break}return e.next=7,(0,s._)(2e3);case 7:return e.prev=7,m=t,e.next=11,h.ZP.patch("/forms/".concat(n),{status:t,blocks:r,settings:o});case 11:m=null,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),m=null;case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(n,t,r,o){return e.apply(this,arguments)}}(),b=function(e){var n=!0;return e.forEach((function(e){var t,r=e.type,o=e.value,i=e.payload;(r===u.k.Payment&&i.isConfigured||r!==u.k.Payment&&l.Ig.includes(r)||r===u.k.Image&&(null===i||void 0===i||null===(t=i.images)||void 0===t?void 0:t.length)>0||""!==o)&&(n=!1)})),n},k=function(e,n){return e.map((function(e){return e.value||"EMPTY"})).join("")!==n.map((function(e){return e.value||"EMPTY"})).join("")},x=function(e){var n=0;return e.forEach((function(e){var t=e.type;l.Ig.includes(t)&&n++})),n},O=function(e,n){var t=(0,f.x8)(n),r=t[e-1];return t.length>1&&r&&r.every((function(e){return l.XE.includes(e.type)}))},U=function(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=[],i=!1,u=v(e);try{for(u.s();!(t=u.n()).done;){var a=t.value;i||a.uuid===n?(i=!0)&&r.includes(a.type)&&o.push(a):o.push(a)}}catch(c){u.e(c)}finally{u.f()}return o},w=function(e){return e.filter((function(e){return!1===l.hn.includes(e.type)}))},C=function(e){return e.filter((function(e){return l.Zl.includes(e.type)}))},j=function e(n,t,r){if(!r[--n])return{title:null,titleBlockUuid:null};var o,i=r[n],a=(0,u.Z)(i)?i.value:void 0;return i.groupUuid!==t&&(l.fq.includes(i.type)||l.FW.includes(i.groupType)||i.type===u.k.PageBreak||i.type===u.k.Divider)?{title:null,titleBlockUuid:null}:[u.k.Label,u.k.Title,u.k.Heading3].includes(i.type)?{title:(0,d.Vt)(null!==(o=null!==a&&void 0!==a?a:i.payload.html)&&void 0!==o?o:""),titleBlockUuid:i.uuid}:e(n,t,r)},S=function(e,n){return!(!n||!n.isRequired)&&((null===n||void 0===n?void 0:n.isRequired)&&(n.titleBlockUuid===e||!n.titleBlockUuid&&n.isRequiredBlockUuid===e))},E=function(e){return e.map((function(e){return{value:e.uuid,text:e.title,icon:(0,p.m0)(e.questionType)}}))},B=function(e,n){var t=[];return e.filter((function(e){return e.type===c.f.InputField})).length>0&&t.push({label:n("label.input-fields"),options:E(e.filter((function(e){return e.type===c.f.InputField})))}),e.filter((function(e){return e.type===c.f.CalculatedField})).length>0&&t.push({label:n("label.calculated-fields"),options:E(e.filter((function(e){return e.type===c.f.CalculatedField})))}),e.filter((function(e){return e.type===c.f.HiddenField})).length>0&&t.push({label:n("label.hidden-fields"),options:E(e.filter((function(e){return e.type===c.f.HiddenField})))}),t}},44825:function(e,n,t){t.d(n,{BM:function(){return c},GE:function(){return s},i6:function(){return l},py:function(){return d},q:function(){return p}});var r=t(59499),o=t(8773),i=t(7603);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c=function(){return{uuid:(0,o.Z)(),type:i.yR.Single}},l=function e(n){return a(a({},n),{},{uuid:(0,o.Z)(),payload:n.payload?a(a({},n.payload),{},{conditionals:n.payload.conditionals?n.payload.conditionals.map(e):void 0}):void 0})},d=function(e){return{uuid:(0,o.Z)(),type:i.yR.Group,payload:{logicalOperator:i.Fn.And,conditionals:[a({},e)]}}},s=function(){return{uuid:(0,o.Z)()}},p=function(e){return a(a({},e),{},{uuid:(0,o.Z)(),payload:e.payload})}},21777:function(e,n,t){t.d(n,{C7:function(){return T},Ee:function(){return g},J0:function(){return I},Jc:function(){return U},KN:function(){return C},MZ:function(){return Z},Md:function(){return B},O2:function(){return D},O6:function(){return E},Sz:function(){return L},Tp:function(){return N},X1:function(){return M},bZ:function(){return P},bm:function(){return j},fp:function(){return O},iM:function(){return b},lL:function(){return S},lo:function(){return x},sy:function(){return w},zp:function(){return k}});var r=t(8773),o=t(42298),i=t(23855),u=t(50659),a=t(35726),c=t(81897),l=t(97755),d=t(43147),s=t(23026),p=t(56409),f=t(29458),h=t(77770),v=t(10711);function y(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var g=function(e,n,t){return"undefined"===typeof n?"":e===a.k.Checkboxes?t.filter((function(e){return n.includes(e.uuid)})).map((function(e){return e.payload.text})).join(", "):[a.k.MultipleChoice,a.k.Dropdown].includes(e)?null!==(r=null===(u=t.find((function(e){return e.uuid===n})))||void 0===u?void 0:u.payload.text)&&void 0!==r?r:"":e===a.k.InputDate?(0,o.Z)((0,i.Z)(n),"MMMM d, yyyy"):n;var r,u},b=function(e,n,t,r){if("string"===typeof t){if(n===a.k.Checkboxes){var o=t.split(/,(?!\s)/),i=r.filter((function(n){return n.groupUuid===e&&o.includes(n.payload.text)})).map((function(e){return e.uuid}));return i.length>0?i:void 0}var u,c;if([a.k.MultipleChoice,a.k.Dropdown].includes(n))return null!==(u=null===(c=r.find((function(n){return n.groupUuid===e&&n.payload.text===t})))||void 0===c?void 0:c.uuid)&&void 0!==u?u:void 0}},k=function(e,n){var t=void 0;return n.type===c.f.InputField?t=e[n.uuid]:[c.f.CalculatedField,c.f.HiddenField].includes(n.type)&&n.blockGroupUuid&&n.uuid&&(t=e[n.blockGroupUuid]?e[n.blockGroupUuid][n.uuid]:""),t},x=function(e,n,t){var r=k(e,n);return u.FW.includes(n.questionType)&&(r=function(e,n,t){return n?e===a.k.Checkboxes?t.filter((function(e){return n.includes(e.uuid)})).map((function(e){return e.payload.text})):[a.k.MultipleChoice,a.k.Dropdown].includes(e)?null!==(r=null===(o=t.find((function(e){return e.uuid===n})))||void 0===o?void 0:o.payload.text)&&void 0!==r?r:"":n:"";var r,o}(n.questionType,r,t)),r},O=function(e,n,t){var r=x(e,n,t);return r&&n.questionType===a.k.Checkboxes&&(r=r.join(",")),r},U=function(e,n,t,r){return(0,c.M)(e)&&(e=x(t,e,r)),n!==l.o.Number||isNaN(parseFloat(e))||(e=parseFloat(e)),e},w=function(e,n){var t={};return n.filter((function(e){return e.type===a.k.HiddenFields})).forEach((function(n){var r=n.groupUuid;n.payload.hiddenFields.forEach((function(n){null!==n&&void 0!==n&&n.name&&"undefined"!==typeof e[n.name]&&("undefined"===typeof t[r]&&(t[r]={}),t[r][n.uuid]=e[n.name])}))})),t},C=function(e){var n="FORM_DATA_".concat(e),t=(0,d.wf)(n);return t?JSON.parse(t):{}},j=function(e,n){var t="FORM_DATA_".concat(e);(0,d._4)(t,JSON.stringify(n))},S=function(e){var n="FORM_DATA_".concat(e);(0,d.Tn)(n)},E=function(e){var n="FORM_SESSION_".concat(e),t=(0,d.wf)(n);if(t)return t;var o=(0,r.Z)();return(0,d._4)(n,o),o},B=function(e){var n="FORM_SESSION_".concat(e);(0,d.Tn)(n)},P=function(e){var n="RESPONDENT",t={},o=(0,d.wf)(n);return o&&(t=JSON.parse(o))&&t[e]||(t[e]=(0,r.Z)(),(0,d._4)(n,JSON.stringify(t))),t[e]},D=function(e,n){return 1===e?n[0]:n.filter((function(e){return e.type===a.k.PageBreak}))[e-2]},T=function(e,n){var t=n.slice(0,e).reverse().filter((function(e){return e.type===a.k.PageBreak}))[0];return null!==t&&void 0!==t?t:n[0]},I=function(e,n){var t=n.filter((function(e){var n=e.type;return[a.k.FormTitle,a.k.PageBreak].includes(n)})).findIndex((function(n){return n.uuid===e}));return-1===t?null:t+1},Z=function(e){var n=!1;return e.filter((function(e){return e.type===a.k.PageBreak})).forEach((function(e){var t=e.payload;null!==t&&void 0!==t&&t.isThankYouPage&&(n=!0)})),n},A=function(e){var n=[];return e.forEach((function(e){e.forEach((function(e){var t=e.payload;n.push((null===t||void 0===t?void 0:t.html)||(null===t||void 0===t?void 0:t.placeholder)||"")}))})),/password|PASSW0RD|passwrd|pass\sword|\*{4,}|jelsz\xf3|attachment|attached/i.test(n.join(" "))},N=function(e,n,t,r,o){var i,c,l,d,s,f,v,y,m,g,b,k,x=null===(i=t[0])||void 0===i||null===(c=i.payload)||void 0===c?void 0:c.logo,O=null===(l=t[0])||void 0===l||null===(d=l.payload)||void 0===d?void 0:d.cover,U=null===(s=t[0])||void 0===s||null===(f=s.payload)||void 0===f?void 0:f.coverSettings,w=n.length,C=null!==(v=n[e-1])&&void 0!==v?v:[],j=null!==(y=n[e-1])&&void 0!==y?y:[];j=(0,p.dp)(j,t,r,o);var S=(0,p.KZ)(e,j,w,t,r),E=D(e,t),B=!(null===E||void 0===E||null===(m=E.payload)||void 0===m||!m.isThankYouPage),P=S?D(S,t):void 0,T=null===S||(null===P||void 0===P||null===(g=P.payload)||void 0===g?void 0:g.isThankYouPage),I=Array.from((0,h.jZ)(C).values()).filter((function(e){return!1===[a.k.HiddenFields,a.k.CalculatedFields].includes(e.type)}));return{logo:x,cover:O,coverSettings:U,pageBlocks:j,nextPage:S,isCustomThankYouPage:B,isLastInputPage:T,canAutoJumpToNextPage:!T&&1===I.length&&u.LQ.includes(I[0].type),pageFilledIn:I.every((function(e){return"undefined"!==typeof r[e.blockGroupUuid]})),showButton:!B,buttonLabel:null===E||void 0===E||null===(b=E.payload)||void 0===b||null===(k=b.button)||void 0===k?void 0:k.label,showMaliciousFormWarning:A(n)}},M=function(e,n,t,r,o,i){try{var u,a=[],c=y((0,f.VN)((0,h.UU)(o)));try{for(c.s();!(u=c.n()).done;){var l=u.value,d=l.uuid,p=l.title,v=l.questionType;a.push({id:d,title:p,type:v,answer:{value:x(i,l,o),raw:k(i,l)}})}}catch(m){c.e(m)}finally{c.f()}return{id:e,formId:t,formName:r,respondentId:n,createdAt:new Date,fields:a}}catch(g){return(0,s.Tb)(g),{}}},L=function(){setTimeout((function(){var e,n,t=null===(e=document.forms[0])||void 0===e?void 0:e.elements[0];t&&(0,v.PZ)(t)&&("INPUT"===t.tagName&&!1===["radio","checkbox"].includes(null!==(n=t.getAttribute("type"))&&void 0!==n?n:"")||"TEXTAREA"===t.tagName)&&t.focus()}),100)}},56409:function(e,n,t){t.d(n,{KZ:function(){return g},VX:function(){return y},dp:function(){return m}});var r=t(59499),o=t(27812),i=t(96486),u=t(35726),a=t(81897),c=t(7603),l=t(21777),d=t(23026);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function f(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var v=function(e,n){var t=e.type,r=e.payload;if(t===c.yR.Group&&null!==r&&void 0!==r&&r.conditionals&&r.logicalOperator)return y(r.conditionals,r.logicalOperator,n);if(t===c.yR.Single&&null!==r&&void 0!==r&&r.field&&null!==r&&void 0!==r&&r.comparison){var o=r.field,u=r.comparison,s=r.value,p=(0,l.zp)(n,o);(0,a.M)(s)&&(s=(0,l.zp)(n,s));try{switch(u){case c.mO.Is:return"undefined"!==typeof p&&p===s;case c.mO.IsNot:return"undefined"!==typeof p&&p!==s;case c.mO.Contains:return(0,i.isArray)(p)?"undefined"!==typeof s&&p.includes(s):"undefined"!==typeof p&&"undefined"!==typeof s&&new RegExp((0,i.escapeRegExp)(s),"i").test(p);case c.mO.DoesNotContain:return(0,i.isArray)(p)?"undefined"!==typeof s&&!1===p.includes(s):"undefined"!==typeof p&&"undefined"!==typeof s&&!1===new RegExp((0,i.escapeRegExp)(s),"i").test(p);case c.mO.StartsWith:return"undefined"!==typeof p&&"undefined"!==typeof s&&new RegExp("^".concat((0,i.escapeRegExp)(s)),"i").test(p);case c.mO.EndsWith:return"undefined"!==typeof p&&"undefined"!==typeof s&&new RegExp("".concat((0,i.escapeRegExp)(s),"$"),"i").test(p);case c.mO.IsEmpty:return(0,i.isArray)(p)?0===p.length:"undefined"===typeof p||""===p;case c.mO.IsNotEmpty:return(0,i.isArray)(p)?p.length>0:"undefined"!==typeof p&&""!==p;case c.mO.Equal:return Number(p)===Number(s);case c.mO.NotEqual:return Number(p)!==Number(s);case c.mO.GreaterThan:return Number(p)>Number(s);case c.mO.LessThan:return Number(p)<Number(s);case c.mO.GreaterOrEqualThan:return Number(p)>=Number(s);case c.mO.LessOrEqualThan:return Number(p)<=Number(s);case c.mO.IsBefore:return/^[0-9]{2}:[0-9]{2}$/.test(p)?Date.parse("01/01/2000 ".concat(p))<Date.parse("01/01/2000 ".concat(s)):Date.parse(p)<Date.parse(s);case c.mO.IsAfter:return/^[0-9]{2}:[0-9]{2}$/.test(p)?Date.parse("01/01/2000 ".concat(p))>Date.parse("01/01/2000 ".concat(s)):Date.parse(p)>Date.parse(s)}}catch(f){(0,d.Tb)(f)}}return!1},y=function(e,n,t){var r=e.map((function(e){return v(e,t)}));return n===c.Fn.And&&r.every((function(e){return e}))||n===c.Fn.Or&&r.some((function(e){return e}))},m=function(e,n,t,r){var a=n.filter((function(e){return e.type===u.k.ConditionalLogic})),l=n.filter((function(e){return e.payload.isHidden})).map((function(e){return e.uuid}));if(0===a.length&&0===l.length)return e;var d,s=(0,o.Z)(e),h=f(a);try{for(h.s();!(d=h.n()).done;){var v=d.value.payload,m=v.logicalOperator,g=v.conditionals,b=v.actions;if(y(g,m,t)){var k,x=f(b);try{var O=function(){var e,n,t,r,u=k.value;(u.type===c.Us.ShowBlocks&&null!==(e=u.payload)&&void 0!==e&&e.showBlocks&&(0,i.remove)(l,(function(e){var n,t;return null===(n=u.payload)||void 0===n||null===(t=n.showBlocks)||void 0===t?void 0:t.includes(e)})),u.type===c.Us.HideBlocks&&null!==(n=u.payload)&&void 0!==n&&n.hideBlocks)&&(l=[].concat((0,o.Z)(l),(0,o.Z)(null===(r=u.payload)||void 0===r?void 0:r.hideBlocks)));u.type===c.Us.RequireAnswer&&null!==(t=u.payload)&&void 0!==t&&t.requireAnswer&&(s=s.map((function(e){var n,t;return null!==(n=u.payload)&&void 0!==n&&null!==(t=n.requireAnswer)&&void 0!==t&&t.includes(e.groupUuid)?p(p({},e),{},{payload:p(p({},e.payload),{},{isRequired:!0})}):e})))};for(x.s();!(k=x.n()).done;)O()}catch(C){x.e(C)}finally{x.f()}}}}catch(C){h.e(C)}finally{h.f()}if(l.length>0){s=s.filter((function(e){return!1===l.includes(e.uuid)}));var U=[];if(n.forEach((function(e){var n=e.uuid,i=e.groupUuid,a=e.type,c=e.payload;if(!1!==l.includes(n)&&([u.k.DropdownOption,u.k.MultipleChoiceOption,u.k.Checkbox].includes(a)&&U.push(i),"undefined"!==typeof t[i]&&(!c.hasDefaultAnswer||"undefined"===typeof c.defaultAnswer)))if(a===u.k.Checkbox){if(Array.isArray(t[i])&&t[i].includes(n)){var d=(0,o.Z)(t[i]);d.splice(d.indexOf(n),1),r(i,d)}}else[u.k.DropdownOption,u.k.MultipleChoiceOption].includes(a)?t[i]===n&&r(i,void 0):r(i,void 0)})),U.length>0){var w=new Map;s=s.map((function(e){if(U.includes(e.groupUuid)&&e.type===u.k.Dropdown)return p(p({},e),{},{payload:p(p({},e.payload),{},{options:e.payload.options.filter((function(e){var n=e.value;return!1===l.includes(n)}))})});if(U.includes(e.groupUuid)&&[u.k.MultipleChoiceOption,u.k.Checkbox].includes(e.type)){w.get(e.groupUuid)||w.set(e.groupUuid,{firstBlockUuid:s.find((function(n){return n.groupUuid===e.groupUuid})).uuid,lastBlockUuid:(0,o.Z)(s).reverse().find((function(n){return n.groupUuid===e.groupUuid})).uuid});var n=w.get(e.groupUuid),t=n.firstBlockUuid,r=n.lastBlockUuid;return p(p({},e),{},{payload:p(p({},e.payload),{},{isFirst:t===e.uuid,isLast:r===e.uuid})})}return e})).filter((function(e){return!(e.type===u.k.Dropdown&&0===e.payload.options.length)}))}}return s},g=function(e,n,t,r,o){var i=e+1,a=n.filter((function(e){return e.type===u.k.ConditionalLogic}));if(0===a.length)return i&&i<=t?i:null;var d,s=f(a);try{for(s.s();!(d=s.n()).done;){var p=d.value.payload,h=p.logicalOperator,v=p.conditionals,m=p.actions;if(y(v,h,o)){var g,b=f(m);try{for(b.s();!(g=b.n()).done;){var k,x,O,U,w=g.value;if(w.type===c.Us.JumpToPage&&"undefined"!==typeof(null===(k=w.payload)||void 0===k?void 0:k.jumpToPage))i="0"===(null===(x=w.payload)||void 0===x||null===(O=x.jumpToPage)||void 0===O?void 0:O.toString())?null:"number"===typeof(null===(U=w.payload)||void 0===U?void 0:U.jumpToPage)?w.payload.jumpToPage:(0,l.J0)(w.payload.jumpToPage,r)}}catch(C){b.e(C)}finally{b.f()}}}}catch(C){s.e(C)}finally{s.f()}return i&&i<=t?i:null}},40665:function(e,n,t){t.d(n,{G:function(){return d}});var r=t(16835),o=t(96486),i=t(84593),u=t(62301);function a(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var l=function(e){return""===e||null===e||"undefined"===typeof e||(0,o.isArray)(e)&&0===e.length},d=function(e,n){for(var t={},o=0,c=Object.keys(n);o<c.length;o++){var d=c[o];!1===Object.keys(e).includes(d)&&(e[d]=void 0);var s,p=e[d],f=a(n[d]);try{for(f.s();!(s=f.n()).done;){var h=(0,r.Z)(s.value,2),v=h[0],y=h[1],m=!1;switch(v){case u.d2.Required:case u.d2.PaymentRequired:l(p)&&(m=!0);break;case u.d2.ShouldBeEmail:l(p)||null!==p.match(i.V)||(m=!0);break;case u.d2.ShouldBeURL:l(p)||null!==p.match(i.i)||(m=!0);break;case u.d2.ShouldBeChecked:l(p)||!0===p||(m=!0);break;case u.d2.ShouldBeDomainHost:l(p)||!1!==y(p)||(m=!0);break;case u.d2.ShouldBeMinChars:!l(p)&&p.length<y&&(m=!0);break;case u.d2.ShouldBeMaxChars:!l(p)&&p.length>y&&(m=!0);break;case u.d2.ShouldBeMinNumber:!l(p)&&p<y&&(m=!0);break;case u.d2.ShouldBeMaxNumber:!l(p)&&p>y&&(m=!0);break;case u.d2.ShouldBeBetweenNumbers:!l(p)&&(p<y[0]||p>y[1])&&(m=!0);break;case u.d2.ShouldMatchPassword:p!==y&&(m=!0);break;case u.d2.ShouldBeBeforeDate:!l(p)&&p>=y&&(m=!0);break;case u.d2.ShouldBeAfterDate:!l(p)&&p<=y&&(m=!0);break;case u.d2.ShouldBeBetweenDates:!l(p)&&(p<y[0]||p>y[1])&&(m=!0);break;case u.d2.ShouldBeOneOfSpecificDates:l(p)||!1!==(null===y||void 0===y?void 0:y.includes(p))||(m=!0);break;case u.d2.ShouldHaveMinArrayLength:!l(p)&&p.length<y&&(m=!0);break;case u.d2.ShouldHaveMaxArrayLength:!l(p)&&p.length>y&&(m=!0);break;case u.d2.ShouldSolveCaptcha:!0!==p&&(m=!0)}if(m){t[d]=[v,y];break}}}catch(g){f.e(g)}finally{f.f()}}return t}},48277:function(e,n,t){t.d(n,{A:function(){return r}});var r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e===parseInt(e.toString(),10)?e.toString():e.toFixed(n)}},60661:function(e,n,t){t.d(n,{Bz:function(){return b},CX:function(){return O},Du:function(){return m},F2:function(){return g},dZ:function(){return k},nf:function(){return y},xB:function(){return x}});var r=t(16835),o=t(8773),i=t(35726),u=t(97755),a=t(81897),c=t(3918),l=t(21777),d=t(48277),s=t(10711),p=t(29458),f=t(69419);function h(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var y=function e(n){var t=[];return n&&n.forEach&&0!==n.length?(n.forEach((function(n){if(n.nodeType===Node.TEXT_NODE&&n.textContent)t.push([(0,c.oJ)(n.textContent)]);else if(n.nodeType===Node.ELEMENT_NODE&&(n.childNodes.length>0||"BR"===n.nodeName)){var r,o,i,u,a,l=[];switch(n.nodeName){case"B":l.push(["font-weight","bold"]);break;case"U":l.push(["text-decoration","underline"]);break;case"I":l.push(["font-style","italic"]);break;case"A":var d=n.href;(null!==d&&void 0!==d&&d.match(/^http(s)?:\/\//)||null!==d&&void 0!==d&&d.match(/^mailto:/)||null!==d&&void 0!==d&&d.match(/^tel:/)||null!==d&&void 0!==d&&d.match(/^sms:/))&&l.push(["href",d]);break;case"FONT":var s=n.color;null!==s&&void 0!==s&&s.match(/#[0-9a-fA-F]{3,6}/)&&l.push(["color",s]);break;case"DIV":l.push(["tag","div"]);break;case"P":l.push(["tag","p"]);break;case"BR":l.push(["tag","br"])}var p=n.style;(null!==p&&void 0!==p&&null!==(r=p.color)&&void 0!==r&&r.match(/#[0-9a-fA-F]{3,6}/)||null!==p&&void 0!==p&&null!==(o=p.color)&&void 0!==o&&o.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/)||"inherit"===(null===p||void 0===p?void 0:p.color))&&l.push(["color",p.color]),(null!==p&&void 0!==p&&null!==(i=p.backgroundColor)&&void 0!==i&&i.match(/#[0-9a-fA-F]{3,6}/)||null!==p&&void 0!==p&&null!==(u=p.backgroundColor)&&void 0!==u&&u.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/)||"inherit"===(null===p||void 0===p?void 0:p.backgroundColor))&&l.push(["background-color",p.backgroundColor]),null!==p&&void 0!==p&&p.fontWeight&&l.push(["font-weight",p.fontWeight]),null!==p&&void 0!==p&&p.fontStyle&&l.push(["font-style",p.fontStyle]),null!==p&&void 0!==p&&p.textDecoration&&l.push(["text-decoration",p.textDecoration]),null!==p&&void 0!==p&&p.display&&l.push(["display",p.display]),"SPAN"===n.nodeName&&-1!==(null===(a=n.className)||void 0===a?void 0:a.indexOf("mention"))&&l.push(["mention",n.dataset.uuid]),l.length>0&&(1===n.childNodes.length&&n.childNodes[0].nodeType===Node.TEXT_NODE&&n.childNodes[0].textContent?t.push([(0,c.oJ)(n.childNodes[0].textContent),l]):"BR"===n.nodeName?t.push(["",l]):t.push([e(n.childNodes),l]))}})),t):t},m=function e(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o="";return n.forEach((function(n){var i=(0,r.Z)(n,2),u=i[0],a=i[1];if("string"!==typeof u||a){if(a&&a.length>0){var c="span",l=[],d=[];a.forEach((function(e){var n=(0,r.Z)(e,2),o=n[0],i=n[1];"tag"===o&&"div"===i?c="div":"tag"===o&&"p"===i?c="p":"tag"===o&&"br"===i?(c="br",u=""):"href"===o?(c="a",d.push('href="'.concat(i,'"')),d.push('target="_blank"'),d.push('rel="noreferrer"')):"mention"===o?(d.push('class="mention"'),d.push('contenteditable="false"'),d.push('data-uuid="'.concat(i,'"')),t&&(u="")):l.push("".concat(o,": ").concat(i,";"))})),l.length>0&&d.push('style="'.concat(l.join(" "),'"')),o+="br"===c?"<br>":"<".concat(c," ").concat(d.join(" "),">").concat("string"===typeof u?u:e(u,t),"</").concat(c,">")}}else o+=u})),o},g=function(e,n,t,r){if("undefined"===typeof document)return"";var o=m(e.safeHTMLSchema);o=o.replace(/\u200B/g,"");var c=document.createElement("div");c.innerHTML=o;var s,p=h(e.mentions);try{var v=function(){var e=s.value,o=e.uuid,p=e.field,f=e.defaultValue,h=c.querySelectorAll('[data-uuid="'.concat(o,'"]'));if(0===h.length)return"continue";var v=p.uuid,y=p.type,m=p.questionType,g=p.blockGroupUuid,b=p.calculatedFieldType,k="";y===a.f.Metadata?k=r[v]:y===a.f.InputField&&m&&g?k=m===i.k.InputDate?t[g]:(0,l.Ee)(m,t[g],n):[a.f.CalculatedField,a.f.HiddenField].includes(y)&&v&&g&&(k=t[g]?t[g][v]:""),y===a.f.CalculatedField&&b===u.o.Number&&"number"===typeof k&&(k=(0,d.A)(k,2)),(c.textContent.startsWith("http")||c.textContent.startsWith("www."))&&(k=encodeURIComponent(k)),h.forEach((function(e){var n;e.innerHTML=(null===(n=k)||void 0===n?void 0:n.toString())||f||""}))};for(p.s();!(s=p.n()).done;)v()}catch(y){p.e(y)}finally{p.f()}return(0,f.A9)(c.textContent,!0)},b=function(e){return!e||!Array.isArray(null===e||void 0===e?void 0:e.safeHTMLSchema)||0===(0,c.Vt)(m(e.safeHTMLSchema)).length},k=function(e){var n=(0,p.VN)(e,{includeMetadata:!0}).find((function(e){return"formName"===e.uuid})),t=U("Form name",n),r=t.mentionObj,o=t.mentionHtml,i=document.createElement("div");return i.innerHTML="New Tally Form Submission for ".concat(o),{safeHTMLSchema:y(i.childNodes),mentions:[r]}},x=function(e){var n,t=[],r="",o=h((0,p.VN)(e));try{for(o.s();!(n=o.n()).done;){var i=n.value,u=U(i.title,i),a=u.mentionObj,c=u.mentionHtml;r+="<div><b>".concat(i.title,"</b></div><div>").concat(c,"</div><br/>"),t.push(a)}}catch(d){o.e(d)}finally{o.f()}var l=document.createElement("div");return l.innerHTML=r,{safeHTMLSchema:y(l.childNodes),mentions:t}},O=function(e){var n=[],t="",r=(0,p.VN)(e,{includeMetadata:!0}).find((function(e){return"formName"===e.uuid})),o=U("Form name",r),i=o.mentionObj,u=o.mentionHtml;t+="<div>New submission for *".concat(u,"*.</div><br/>"),n.push(i);var a,c=h((0,p.VN)(e));try{for(c.s();!(a=c.n()).done;){var l=a.value,d=U(l.title,l),s=d.mentionObj,f=d.mentionHtml;t+="<div>*".concat(l.title,"*: ").concat(f,"</div>"),n.push(s)}}catch(m){c.e(m)}finally{c.f()}var v=document.createElement("div");return v.innerHTML=t,{safeHTMLSchema:y(v.childNodes),mentions:n}},U=function(e,n){var t=(0,o.Z)();return{mentionObj:{uuid:t,field:n},mentionHtml:'<span class="mention" contenteditable="false" data-uuid="'.concat(t,'">@').concat(e,"</span>").concat((0,s.G6)()?"\u200b":"")}}}}]);